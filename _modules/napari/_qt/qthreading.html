<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700&amp;display=swap"/><style type="text/css">.fresnel-container{margin:0;padding:0;}
@media not all and (min-width:0px) and (max-width:299px){.fresnel-at-zero{display:none!important;}}
@media not all and (min-width:300px) and (max-width:449px){.fresnel-at-screen-300{display:none!important;}}
@media not all and (min-width:450px) and (max-width:494px){.fresnel-at-screen-450{display:none!important;}}
@media not all and (min-width:495px) and (max-width:874px){.fresnel-at-screen-495{display:none!important;}}
@media not all and (min-width:875px) and (max-width:1149px){.fresnel-at-screen-875{display:none!important;}}
@media not all and (min-width:1150px) and (max-width:1424px){.fresnel-at-screen-1150{display:none!important;}}
@media not all and (min-width:1425px){.fresnel-at-screen-1425{display:none!important;}}
@media not all and (max-width:299px){.fresnel-lessThan-screen-300{display:none!important;}}
@media not all and (max-width:449px){.fresnel-lessThan-screen-450{display:none!important;}}
@media not all and (max-width:494px){.fresnel-lessThan-screen-495{display:none!important;}}
@media not all and (max-width:874px){.fresnel-lessThan-screen-875{display:none!important;}}
@media not all and (max-width:1149px){.fresnel-lessThan-screen-1150{display:none!important;}}
@media not all and (max-width:1424px){.fresnel-lessThan-screen-1425{display:none!important;}}
@media not all and (min-width:300px){.fresnel-greaterThan-zero{display:none!important;}}
@media not all and (min-width:450px){.fresnel-greaterThan-screen-300{display:none!important;}}
@media not all and (min-width:495px){.fresnel-greaterThan-screen-450{display:none!important;}}
@media not all and (min-width:875px){.fresnel-greaterThan-screen-495{display:none!important;}}
@media not all and (min-width:1150px){.fresnel-greaterThan-screen-875{display:none!important;}}
@media not all and (min-width:1425px){.fresnel-greaterThan-screen-1150{display:none!important;}}
@media not all and (min-width:0px){.fresnel-greaterThanOrEqual-zero{display:none!important;}}
@media not all and (min-width:300px){.fresnel-greaterThanOrEqual-screen-300{display:none!important;}}
@media not all and (min-width:450px){.fresnel-greaterThanOrEqual-screen-450{display:none!important;}}
@media not all and (min-width:495px){.fresnel-greaterThanOrEqual-screen-495{display:none!important;}}
@media not all and (min-width:875px){.fresnel-greaterThanOrEqual-screen-875{display:none!important;}}
@media not all and (min-width:1150px){.fresnel-greaterThanOrEqual-screen-1150{display:none!important;}}
@media not all and (min-width:1425px){.fresnel-greaterThanOrEqual-screen-1425{display:none!important;}}
@media not all and (min-width:0px) and (max-width:299px){.fresnel-between-zero-screen-300{display:none!important;}}
@media not all and (min-width:0px) and (max-width:449px){.fresnel-between-zero-screen-450{display:none!important;}}
@media not all and (min-width:0px) and (max-width:494px){.fresnel-between-zero-screen-495{display:none!important;}}
@media not all and (min-width:0px) and (max-width:874px){.fresnel-between-zero-screen-875{display:none!important;}}
@media not all and (min-width:0px) and (max-width:1149px){.fresnel-between-zero-screen-1150{display:none!important;}}
@media not all and (min-width:0px) and (max-width:1424px){.fresnel-between-zero-screen-1425{display:none!important;}}
@media not all and (min-width:300px) and (max-width:449px){.fresnel-between-screen-300-screen-450{display:none!important;}}
@media not all and (min-width:300px) and (max-width:494px){.fresnel-between-screen-300-screen-495{display:none!important;}}
@media not all and (min-width:300px) and (max-width:874px){.fresnel-between-screen-300-screen-875{display:none!important;}}
@media not all and (min-width:300px) and (max-width:1149px){.fresnel-between-screen-300-screen-1150{display:none!important;}}
@media not all and (min-width:300px) and (max-width:1424px){.fresnel-between-screen-300-screen-1425{display:none!important;}}
@media not all and (min-width:450px) and (max-width:494px){.fresnel-between-screen-450-screen-495{display:none!important;}}
@media not all and (min-width:450px) and (max-width:874px){.fresnel-between-screen-450-screen-875{display:none!important;}}
@media not all and (min-width:450px) and (max-width:1149px){.fresnel-between-screen-450-screen-1150{display:none!important;}}
@media not all and (min-width:450px) and (max-width:1424px){.fresnel-between-screen-450-screen-1425{display:none!important;}}
@media not all and (min-width:495px) and (max-width:874px){.fresnel-between-screen-495-screen-875{display:none!important;}}
@media not all and (min-width:495px) and (max-width:1149px){.fresnel-between-screen-495-screen-1150{display:none!important;}}
@media not all and (min-width:495px) and (max-width:1424px){.fresnel-between-screen-495-screen-1425{display:none!important;}}
@media not all and (min-width:875px) and (max-width:1149px){.fresnel-between-screen-875-screen-1150{display:none!important;}}
@media not all and (min-width:875px) and (max-width:1424px){.fresnel-between-screen-875-screen-1425{display:none!important;}}
@media not all and (min-width:1150px) and (max-width:1424px){.fresnel-between-screen-1150-screen-1425{display:none!important;}}</style><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Source code for napari._qt.qthreading - napari</title><link href="/_static/pygments.css" rel="stylesheet"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/9000f27f114380422eb0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9000f27f114380422eb0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/4cee0f73ee1fc9d0975c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4cee0f73ee1fc9d0975c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_static/documentation_options.js" id="/_static/documentation_options.js" defer="" data-nscript="beforeInteractive"></script><script src="/_static/jquery.js" id="/_static/jquery.js" defer="" data-nscript="beforeInteractive"></script><script src="/_static/underscore.js" id="/_static/underscore.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-613fd858cdb9cf2af3be.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-1f2c591c5d3bfcfc95e6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e38437bc483ca658f2c2.js" defer=""></script><script src="/_next/static/chunks/29107295-2648cb5e919f7c78c7cc.js" defer=""></script><script src="/_next/static/chunks/491-8696fde6e03f5f686d61.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...parts%5D%5D-4bd5671ef3168ace094f.js" defer=""></script><script src="/_next/static/_ZQ7jmqBSreuANGNF4wXy/_buildManifest.js" defer=""></script><script src="/_next/static/_ZQ7jmqBSreuANGNF4wXy/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700&display=swap">@font-face{font-family:'Barlow';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHpv4kjgoGqM7EPCA.woff) format('woff')}@font-face{font-family:'Barlow';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E30-8c4w.woff) format('woff')}@font-face{font-family:'Barlow';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E3t-4c4w.woff) format('woff')}@font-face{font-family:'Barlow';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHpv4kjgoGqM7E_A8s5ynghnQci.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Barlow';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHpv4kjgoGqM7E_Ass5ynghnQci.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Barlow';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHpv4kjgoGqM7E_DMs5ynghnQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Barlow';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E30-8s6Fostz0rdom9.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Barlow';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E30-8s6Vostz0rdom9.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Barlow';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E30-8s51ostz0rdg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Barlow';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E3t-4s6Fostz0rdom9.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Barlow';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E3t-4s6Vostz0rdom9.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Barlow';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/barlow/v5/7cHqv4kjgoGqM7E3t-4s51ostz0rdg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="min-h-screen flex flex-col"><div class="fresnel-container fresnel-lessThan-screen-1150 "></div><header class="bg-napari-primary h-napari-app-bar justify-center items-center px-6 screen-495:px-12 grid grid-cols-3 screen-1150:grid-cols-4 screen-1425:grid-cols-napari-5 justify-center gap-6 screen-495:gap-12"><nav class="flex items-center"><a href="/" class="inline-flex items-center"><svg class="w-4 h-4 screen-875:w-6 screen-875:h-6 mr-1" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M27.8387 0H2.16127C0.967636 0 0 0.967636 0 2.16127V27.8387C0 29.0324 0.967636 30 2.16127 30H27.8387C29.0324 30 30 29.0324 30 27.8387V2.16127C30 0.967636 29.0324 0 27.8387 0Z" fill="#26283D"></path><path d="M27.7779 1.03139H2.22356C1.56514 1.03139 1.03139 1.56514 1.03139 2.22357V27.7779C1.03139 28.4363 1.56514 28.9701 2.22356 28.9701H27.7779C28.4363 28.9701 28.9701 28.4363 28.9701 27.7779V2.22357C28.9701 1.56514 28.4363 1.03139 27.7779 1.03139Z" fill="url(#paint0_radial)"></path><path d="M17.4655 27.3361C17.099 27.3361 16.7542 27.3201 16.4124 27.2897C16.0096 27.2645 15.61 27.202 15.2187 27.1028C14.4296 26.8759 13.6918 26.4986 13.0459 25.9918C12.1394 25.2971 11.3826 24.4265 10.8209 23.4322C10.5949 23.0338 10.3863 22.4775 9.83293 20.9899C9.71125 20.661 9.61999 20.4104 9.54321 20.2091C9.36359 19.7209 9.3042 19.5558 9.15789 19.2385C8.96705 18.7853 8.73274 18.3516 8.45823 17.9435C8.12277 17.4768 7.73384 17.0509 7.29937 16.6745C7.13279 16.5297 7.05601 16.4616 6.91405 16.3515C6.73732 16.2067 6.49396 16.0183 6.02752 15.6098C5.2395 14.9174 4.94254 14.5958 4.66876 14.2453C4.25597 13.7417 3.92726 13.1748 3.69532 12.5664C3.49242 12.0272 3.37416 11.4599 3.34476 10.8846C3.32978 10.3829 3.38289 9.88145 3.50265 9.39401C3.69467 8.45513 4.01235 7.54642 4.44713 6.69241C4.7481 6.05734 5.13833 5.46858 5.60599 4.94398C6.16001 4.34736 6.8007 3.83754 7.50652 3.43167C7.8302 3.24114 8.16941 3.07832 8.52052 2.94495C9.04221 2.75721 9.59283 2.66258 10.1473 2.66537C10.6436 2.66652 11.1376 2.73375 11.6161 2.86528C12.5756 3.10049 13.433 3.64024 14.0599 4.40366C14.7204 5.22066 14.987 6.2477 15.2028 7.63978C15.2578 8.00193 15.2796 8.18879 15.2984 8.35248C15.31 8.46547 15.323 8.57846 15.352 8.77836C15.5273 9.97199 15.6142 10.5167 15.8141 10.9324C16.1038 11.5408 16.6572 11.8957 17.0208 12.1304C17.9131 12.7098 18.8344 12.788 19.4442 12.8416C19.6847 12.8633 19.9585 12.8749 20.2569 12.8749C20.703 12.8749 21.0739 12.8503 21.2115 12.8402C21.4853 12.8199 21.7141 12.7938 21.9358 12.7677C22.272 12.7223 22.6106 12.6972 22.9498 12.6924C23.3746 12.6921 23.7976 12.7491 24.2071 12.8619C25.0966 13.067 25.8989 13.547 26.5002 14.2337C27.1101 14.958 27.2738 15.6721 27.4795 16.5804C27.6193 17.187 27.707 17.8044 27.7417 18.4259C27.7764 19.1313 27.8242 20.0946 27.4925 21.2303C27.1727 22.2747 26.6228 23.234 25.8831 24.0377C25.1073 24.908 24.1734 25.6233 23.1309 26.1453C22.5393 26.4354 21.9207 26.6669 21.2839 26.8363C20.4006 27.0835 19.4935 27.2365 18.578 27.2926C18.1912 27.3216 17.8175 27.3361 17.4655 27.3361Z" fill="#26283D"></path><path d="M17.4655 26.2265C17.1323 26.2265 16.8194 26.2134 16.5109 26.1859C16.1688 26.1658 15.8293 26.1139 15.4969 26.0309C14.8468 25.8412 14.2394 25.5279 13.7079 25.1082C12.924 24.5046 12.2698 23.7494 11.7842 22.8875C11.6016 22.5645 11.3873 21.9908 10.8701 20.6031C10.7484 20.2786 10.6586 20.0323 10.5804 19.8295C10.4008 19.3385 10.3269 19.1342 10.1618 18.7764C9.94359 18.2639 9.6768 17.7735 9.36504 17.3119C8.98218 16.7792 8.53831 16.293 8.04249 15.8633C7.84694 15.6852 7.74264 15.6026 7.59778 15.4882C7.41961 15.3433 7.19942 15.1738 6.75471 14.7842C6.03042 14.1497 5.76968 13.8672 5.53791 13.5703C5.19569 13.1552 4.92274 12.6875 4.7296 12.1854C4.41134 11.3736 4.36059 10.4814 4.58474 9.63882C4.75558 8.79295 5.04066 7.97424 5.43216 7.20521C5.68904 6.6581 6.02321 6.15074 6.42443 5.69869C6.89941 5.18449 7.44931 4.74497 8.05553 4.39498C8.32534 4.23625 8.6078 4.1001 8.90005 3.98793C9.29948 3.84394 9.72125 3.77185 10.1458 3.77499C10.5448 3.77727 10.9417 3.83182 11.3264 3.93723C12.0597 4.10871 12.7166 4.51577 13.1965 5.09609C13.6311 5.6422 13.8846 6.37663 14.1062 7.80492C14.1584 8.14389 14.1772 8.31048 14.1946 8.47127C14.2076 8.5944 14.2221 8.71753 14.254 8.93481C14.4336 10.1531 14.5321 10.8252 14.8146 11.4104C15.2492 12.2984 15.9734 12.7735 16.4182 13.056C17.5394 13.7803 18.6692 13.8817 19.3443 13.9425C19.6166 13.9672 19.9237 13.9788 20.2554 13.9788C20.7393 13.9788 21.142 13.9527 21.2941 13.9411C21.5838 13.9194 21.8387 13.8904 22.0604 13.8643C22.3529 13.8246 22.6474 13.8019 22.9425 13.7962C23.2691 13.7958 23.5942 13.8401 23.9087 13.9281C24.2796 14.028 25.0502 14.238 25.647 14.9421C26.0816 15.4592 26.2062 16.001 26.393 16.8252C26.5186 17.3689 26.5976 17.9223 26.6292 18.4795C26.661 19.14 26.7016 19.9614 26.422 20.9174C26.1469 21.8088 25.6746 22.6267 25.0401 23.3105C24.3582 24.0719 23.5378 24.6968 22.6224 25.1516C22.0928 25.4117 21.5387 25.6184 20.9681 25.7687C20.1555 25.9947 19.3214 26.1345 18.4795 26.1859C18.1333 26.2192 17.7929 26.2265 17.4655 26.2265Z" fill="#A59678"></path><path d="M9.21149 4.83535C10.0328 4.53405 10.8513 4.74409 11.0946 4.80783C11.6453 4.93454 12.1384 5.24019 12.4969 5.67697C12.8199 6.07533 13.0212 6.69098 13.2211 7.95558C13.3124 8.5437 13.295 8.56978 13.366 9.07823C13.5529 10.3472 13.6644 11.1062 14.0077 11.816C14.548 12.9314 15.4563 13.521 15.9329 13.8267C17.2366 14.6726 18.5403 14.7885 19.2646 14.8537C19.9624 14.9053 20.663 14.9053 21.3607 14.8537C22.4718 14.7711 22.9121 14.6045 23.6712 14.8117C24.0058 14.9015 24.549 15.0579 24.9546 15.536C25.2443 15.8851 25.337 16.2603 25.5109 17.0324C25.625 17.5246 25.6967 18.0257 25.7253 18.5302C25.7571 19.169 25.7904 19.86 25.5543 20.6697C25.3157 21.4363 24.906 22.1387 24.3563 22.7238C23.7531 23.3969 23.027 23.9485 22.2168 24.3491C21.736 24.5834 21.2327 24.7683 20.7146 24.901C19.9602 25.1106 19.1857 25.2397 18.4042 25.2863C17.7992 25.3373 17.1911 25.3373 16.5862 25.2863C16.2975 25.2698 16.0109 25.2267 15.7301 25.1574C15.1926 24.9997 14.6912 24.7384 14.254 24.3882C13.5654 23.8599 12.9908 23.1976 12.5649 22.4413C12.4201 22.1806 12.1811 21.5476 11.7088 20.2801C11.2916 19.1603 11.2323 18.943 10.9845 18.3969C10.7451 17.8345 10.451 17.297 10.1067 16.7919C9.68854 16.2019 9.20233 15.6632 8.65814 15.1869C8.19314 14.7639 8.16417 14.8044 7.35442 14.0961C6.64751 13.4761 6.43168 13.2342 6.25205 13.0053C5.96697 12.6629 5.73947 12.2764 5.57846 11.8609C5.45202 11.5217 5.37825 11.1651 5.35973 10.8035C5.35202 10.4734 5.39004 10.1439 5.47272 9.82425C5.62675 9.05475 5.88556 8.31001 6.24191 7.61082C6.46342 7.13752 6.75173 6.69847 7.09802 6.3071C7.32105 6.06667 7.56328 5.84479 7.82231 5.64366C8.03967 5.47474 8.26863 5.3213 8.50748 5.18446C8.73275 5.05002 8.96813 4.93329 9.21149 4.83535V4.83535Z" fill="url(#paint1_linear)"></path><defs><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15 15) scale(28.521)"><stop stop-color="#746B7F"></stop><stop offset="0.12" stop-color="#615B6F"></stop><stop offset="0.26" stop-color="#514C60"></stop><stop offset="0.37" stop-color="#4B475B"></stop><stop offset="0.44" stop-color="#4F4B5F"></stop><stop offset="0.51" stop-color="#5A566C"></stop><stop offset="0.59" stop-color="#6D6881"></stop><stop offset="0.67" stop-color="#87829E"></stop><stop offset="0.74" stop-color="#A9A2C3"></stop><stop offset="0.78" stop-color="#BCB5D9"></stop></radialGradient><linearGradient id="paint1_linear" x1="5.54949" y1="7.79624" x2="23.9884" y2="23.7393" gradientUnits="userSpaceOnUse"><stop offset="0.05" stop-color="#448491"></stop><stop offset="0.15" stop-color="#4A7986"></stop><stop offset="0.33" stop-color="#506E7B"></stop><stop offset="0.52" stop-color="#526A77"></stop><stop offset="0.6" stop-color="#56707C"></stop><stop offset="0.7" stop-color="#607F8B"></stop><stop offset="0.82" stop-color="#7099A3"></stop><stop offset="0.94" stop-color="#87BDC4"></stop><stop offset="1" stop-color="#94D1D6"></stop></linearGradient></defs></svg><span class="font-bold">napari</span></a></nav><div class="flex items-center w-full justify-self-end col-span-2 screen-1150:col-span-3"><form data-testid="searchInputForm" class="flex flex-auto items-center border-b-2 border-black"><input aria-label="Search input for searching napari.org site." data-testid="searchInputTextInput" class="flex flex-auto border-none outline-none bg-transparent w-0" value=""/><button aria-label="Submit search query" type="button"><svg class="h-5 w-5" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.32004 7.68001L0.746704 15.2533M10.6667 9.60001C13.0134 9.60001 14.9334 7.68001 14.9334 5.33335C14.9334 2.98668 13.0134 1.06668 10.6667 1.06668C8.32004 1.06668 6.40004 2.98668 6.40004 5.33335C6.40004 7.68001 8.32004 9.60001 10.6667 9.60001Z" stroke="black" stroke-width="2"></path></svg></button></form><div class="fresnel-container fresnel-lessThan-screen-1150 "><button class="ml-6 flex lg:hidden" type="button"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Icon for opening side menu.</title><path d="M16 1H0" stroke="black" stroke-width="1.98857"></path><path d="M16 7.99924H0" stroke="black" stroke-width="1.98857"></path><path d="M16 15H0" stroke="black" stroke-width="1.98857"></path></svg></button></div></div></header><main class="mt-6 flex-grow"><div class="grid grid-cols-3 screen-1150:grid-cols-4 screen-1425:grid-cols-napari-5 justify-center gap-6 screen-495:gap-12 px-6 pt-4 screen-495:px-12 screen-495:pt-9"><div class="fresnel-container fresnel-greaterThanOrEqual-screen-1150 "><ul><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/community/index.html">Community</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/tutorials/index.html">Tutorials</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/plugins/stable/index.html">Plugins</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/release/index.html">Release notes</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/api/stable/index.html">API reference</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/roadmaps/index.html">Roadmaps</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/guides/stable/index.html">Developer guides</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="/developers/index.html">Developer resources</a></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="https://github.com/napari/napari" target="_blank" rel="noreferrer">napari source code</a><svg class="ml-2 w-3 h-3" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.6667 2H2V18H18V10" stroke="#000" stroke-width="2.5"></path><path d="M12.6667 2H18V7.33333" stroke="#000" stroke-width="2.5"></path><path d="M18 2L7.33333 12.6667" stroke="#000" stroke-width="2.5"></path></svg></div></li><li class="first:mt-0 mt-2 mb-2"><div class="flex items-center text-base hover:font-bold"><a href="https://napari-hub.org" target="_blank" rel="noreferrer">napari hub</a><svg class="ml-2 w-3 h-3" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.6667 2H2V18H18V10" stroke="#000" stroke-width="2.5"></path><path d="M12.6667 2H18V7.33333" stroke="#000" stroke-width="2.5"></path><path d="M18 2L7.33333 12.6667" stroke="#000" stroke-width="2.5"></path></svg></div></li></ul></div><div class="col-span-3 mb-6 screen-495:mb-12 screen-1425:col-start-2 screen-1425:col-span-3"><h1 class="text-5xl font-bold">Source code for napari._qt.qthreading</h1><div class="fresnel-container fresnel-lessThan-screen-1425 "><div class="my-6"><ul class="flex flex-col border-l border-black sticky top-12"></ul></div></div><div class="prose max-w-full App_content__2T0iD" role="main">
        <div id="documentation_options" data-url_root="../../../"></div>
        <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span><span class="p">,</span> <span class="n">wraps</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">toolz</span> <span class="k">as</span> <span class="nn">tz</span>
<span class="kn">from</span> <span class="nn">qtpy.QtCore</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">QObject</span><span class="p">,</span>
    <span class="n">QRunnable</span><span class="p">,</span>
    <span class="n">QThread</span><span class="p">,</span>
    <span class="n">QThreadPool</span><span class="p">,</span>
    <span class="n">QTimer</span><span class="p">,</span>
    <span class="n">Signal</span><span class="p">,</span>
    <span class="n">Slot</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">..utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>
<span class="kn">from</span> <span class="nn">.qprogress</span> <span class="kn">import</span> <span class="n">progress</span>


<span class="k">def</span> <span class="nf">as_generator_function</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
    <span class="sd">"""Turns a regular function (single return) into a generator function."""</span>

    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">genwrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">yield</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">genwrapper</span>


<div class="viewcode-block" id="WorkerBaseSignals"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBaseSignals.html#napari.qt.threading.WorkerBaseSignals">[docs]</a><span class="k">class</span> <span class="nc">WorkerBaseSignals</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>

    <span class="n">started</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>  <span class="c1"># emitted when the work is started</span>
    <span class="n">finished</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>  <span class="c1"># emitted when the work is finished</span>
    <span class="n">returned</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>  <span class="c1"># emitted with return value</span>
    <span class="n">errored</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>  <span class="c1"># emitted with error object on Exception</span>
    <span class="n">warned</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>  <span class="c1"># emitted with showwarning args on warning</span></div>


<div class="viewcode-block" id="WorkerBase"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase">[docs]</a><span class="k">class</span> <span class="nc">WorkerBase</span><span class="p">(</span><span class="n">QRunnable</span><span class="p">):</span>
    <span class="sd">"""Base class for creating a Worker that can run in another thread.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    SignalsClass : type, optional</span>
<span class="sd">        A QObject subclass that contains signals, by default WorkerBaseSignals</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    signals: WorkerBaseSignals</span>
<span class="sd">        signal emitter object. To allow identify which worker thread emitted signal.</span>
<span class="sd">    """</span>

    <span class="c1">#: A set of Workers.  Add to set using :meth:`WorkerBase.start`</span>
    <span class="n">_worker_set</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">'WorkerBase'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="n">SignalsClass</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">WorkerBaseSignals</span><span class="p">]</span> <span class="o">=</span> <span class="n">WorkerBaseSignals</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_abort_requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span> <span class="o">=</span> <span class="n">SignalsClass</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">errored</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_relay_error</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">warned</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_relay_warning</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_relay_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">..utils.notifications</span> <span class="kn">import</span> <span class="n">notification_manager</span>

        <span class="n">notification_manager</span><span class="o">.</span><span class="n">receive_error</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">exc</span><span class="p">),</span> <span class="n">exc</span><span class="p">,</span> <span class="n">exc</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_relay_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_warn_args</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">..utils.notifications</span> <span class="kn">import</span> <span class="n">notification_manager</span>

        <span class="n">notification_manager</span><span class="o">.</span><span class="n">receive_warning</span><span class="p">(</span><span class="o">*</span><span class="n">show_warn_args</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">"""Pass through attr requests to signals to simplify connection API.</span>

<span class="sd">        The goal is to enable ``worker.yielded.connect`` instead of</span>
<span class="sd">        ``worker.signals.yielded.connect``. Because multiple inheritance of Qt</span>
<span class="sd">        classes is not well supported in PyQt, we have to use composition here</span>
<span class="sd">        (signals are provided by QObjects, and QRunnable is not a QObject). So</span>
<span class="sd">        this passthrough allows us to connect to signals on the ``_signals``</span>
<span class="sd">        object.</span>
<span class="sd">        """</span>
        <span class="c1"># the Signal object is actually a class attribute</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">Signal</span><span class="p">):</span>
            <span class="c1"># but what we need to connect to is the instantiated signal</span>
            <span class="c1"># (which is of type `SignalInstance` in PySide and</span>
            <span class="c1"># `pyqtBoundSignal` in PyQt)</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__getattr__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<div class="viewcode-block" id="WorkerBase.quit"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.quit">[docs]</a>    <span class="k">def</span> <span class="nf">quit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Send a request to abort the worker.</span>

<span class="sd">        .. note::</span>

<span class="sd">            It is entirely up to subclasses to honor this method by checking</span>
<span class="sd">            ``self.abort_requested`` periodically in their ``worker.work``</span>
<span class="sd">            method, and exiting if ``True``.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_abort_requested</span> <span class="o">=</span> <span class="kc">True</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">abort_requested</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Whether the worker has been requested to stop."""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_abort_requested</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Whether the worker has been started"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_running</span>

<div class="viewcode-block" id="WorkerBase.run"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.run">[docs]</a>    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Start the worker.</span>

<span class="sd">        The end-user should never need to call this function.</span>
<span class="sd">        But it cannot be made private or renamed, since it is called by Qt.</span>

<span class="sd">        The order of method calls when starting a worker is:</span>

<span class="sd">        .. code-block:: none</span>

<span class="sd">           calls QThreadPool.globalInstance().start(worker)</span>
<span class="sd">           |               triggered by the QThreadPool.start() method</span>
<span class="sd">           |               |             called by worker.run</span>
<span class="sd">           |               |             |</span>
<span class="sd">           V               V             V</span>
<span class="sd">           worker.start -&gt; worker.run -&gt; worker.work</span>

<span class="sd">        **This** is the function that actually gets called when calling</span>
<span class="sd">        :func:`QThreadPool.start(worker)`.  It simply wraps the :meth:`work`</span>
<span class="sd">        method, and emits a few signals.  Subclasses should NOT override this</span>
<span class="sd">        method (except with good reason), and instead should implement</span>
<span class="sd">        :meth:`work`.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">started</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"always"</span><span class="p">)</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">showwarning</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">w</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">warned</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">work</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">):</span>
                    <span class="c1"># The Worker object has likely been deleted.</span>
                    <span class="c1"># A deleted wrapped C/C++ object may result in a runtime</span>
                    <span class="c1"># error that will cause segfault if we try to do much other</span>
                    <span class="c1"># than simply notify the user.</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                        <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                            <span class="s2">"RuntimeError in aborted thread: </span><span class="si">{result}</span><span class="s2">"</span><span class="p">,</span>
                            <span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="ne">RuntimeWarning</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">return</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">result</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">abort_requested</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">returned</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">errored</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span></div>

<div class="viewcode-block" id="WorkerBase.work"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.work">[docs]</a>    <span class="k">def</span> <span class="nf">work</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="ne">Exception</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">"""Main method to execute the worker.</span>

<span class="sd">        The end-user should never need to call this function.</span>
<span class="sd">        But subclasses must implement this method (See</span>
<span class="sd">        :meth:`GeneratorFunction.work` for an example implementation).</span>
<span class="sd">        Minimally, it should check ``self.abort_requested`` periodically and</span>
<span class="sd">        exit if True.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        .. code-block:: python</span>

<span class="sd">            class MyWorker(WorkerBase):</span>

<span class="sd">                def work(self):</span>
<span class="sd">                    i = 0</span>
<span class="sd">                    while True:</span>
<span class="sd">                        if self.abort_requested:</span>
<span class="sd">                            self.aborted.emit()</span>
<span class="sd">                            break</span>
<span class="sd">                        i += 1</span>
<span class="sd">                        if i &gt; max_iters:</span>
<span class="sd">                            break</span>
<span class="sd">                        time.sleep(0.5)</span>
<span class="sd">        """</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                <span class="s1">'"</span><span class="si">{name}</span><span class="s1">" failed to define work() method'</span><span class="p">,</span>
                <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="WorkerBase.start"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.start">[docs]</a>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Start this worker in a thread and add it to the global threadpool.</span>

<span class="sd">        The order of method calls when starting a worker is:</span>

<span class="sd">        .. code-block:: none</span>

<span class="sd">           calls QThreadPool.globalInstance().start(worker)</span>
<span class="sd">           |               triggered by the QThreadPool.start() method</span>
<span class="sd">           |               |             called by worker.run</span>
<span class="sd">           |               |             |</span>
<span class="sd">           V               V             V</span>
<span class="sd">           worker.start -&gt; worker.run -&gt; worker.work</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="ow">in</span> <span class="n">WorkerBase</span><span class="o">.</span><span class="n">_worker_set</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                    <span class="s1">'This worker is already started!'</span><span class="p">,</span>
                    <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># This will raise a RunTimeError if the worker is already deleted</span>
        <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="n">WorkerBase</span><span class="o">.</span><span class="n">_worker_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">WorkerBase</span><span class="o">.</span><span class="n">_worker_set</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="n">start_</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">start_</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="FunctionWorker"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.FunctionWorker.html#napari.qt.threading.FunctionWorker">[docs]</a><span class="k">class</span> <span class="nc">FunctionWorker</span><span class="p">(</span><span class="n">WorkerBase</span><span class="p">):</span>
    <span class="sd">"""QRunnable with signals that wraps a simple long-running function.</span>

<span class="sd">    .. note::</span>

<span class="sd">        ``FunctionWorker`` does not provide a way to stop a very long-running</span>
<span class="sd">        function (e.g. ``time.sleep(10000)``).  So whenever possible, it is</span>
<span class="sd">        better to implement your long running function as a generator that</span>
<span class="sd">        yields periodically, and use the :class:`GeneratorWorker` instead.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : Callable</span>
<span class="sd">        A function to call in another thread</span>
<span class="sd">    *args</span>
<span class="sd">        will be passed to the function</span>
<span class="sd">    **kwargs</span>
<span class="sd">        will be passed to the function</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    TypeError</span>
<span class="sd">        If ``func`` is a generator function and not a regular function.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isgeneratorfunction</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                    <span class="s2">"Generator function </span><span class="si">{func}</span><span class="s2"> cannot be used with FunctionWorker, use GeneratorWorker instead"</span><span class="p">,</span>
                    <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

<div class="viewcode-block" id="FunctionWorker.work"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.FunctionWorker.html#napari.qt.threading.FunctionWorker.work">[docs]</a>    <span class="k">def</span> <span class="nf">work</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_func</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_args</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="GeneratorWorkerSignals"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorkerSignals.html#napari.qt.threading.GeneratorWorkerSignals">[docs]</a><span class="k">class</span> <span class="nc">GeneratorWorkerSignals</span><span class="p">(</span><span class="n">WorkerBaseSignals</span><span class="p">):</span>

    <span class="n">yielded</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>  <span class="c1"># emitted with yielded values (if generator used)</span>
    <span class="n">paused</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>  <span class="c1"># emitted when a running job has successfully paused</span>
    <span class="n">resumed</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>  <span class="c1"># emitted when a paused job has successfully resumed</span>
    <span class="n">aborted</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>  <span class="c1"># emitted when a running job is successfully aborted</span></div>


<div class="viewcode-block" id="GeneratorWorker"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker">[docs]</a><span class="k">class</span> <span class="nc">GeneratorWorker</span><span class="p">(</span><span class="n">WorkerBase</span><span class="p">):</span>
    <span class="sd">"""QRunnable with signals that wraps a long-running generator.</span>

<span class="sd">    Provides a convenient way to run a generator function in another thread,</span>
<span class="sd">    while allowing 2-way communication between threads, using plain-python</span>
<span class="sd">    generator syntax in the original function.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : callable</span>
<span class="sd">        The function being run in another thread.  May be a generator function.</span>
<span class="sd">    SignalsClass : type, optional</span>
<span class="sd">        A QObject subclass that contains signals, by default</span>
<span class="sd">        GeneratorWorkerSignals</span>
<span class="sd">    *args</span>
<span class="sd">        Will be passed to func on instantiation</span>
<span class="sd">    **kwargs</span>
<span class="sd">        Will be passed to func on instantiation</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="n">SignalsClass</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">WorkerBaseSignals</span><span class="p">]</span> <span class="o">=</span> <span class="n">GeneratorWorkerSignals</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isgeneratorfunction</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                    <span class="s2">"Regular function </span><span class="si">{func}</span><span class="s2"> cannot be used with GeneratorWorker, use FunctionWorker instead"</span><span class="p">,</span>
                    <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">SignalsClass</span><span class="o">=</span><span class="n">SignalsClass</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_gen</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_incoming_value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pause_requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resume_requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_paused</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># polling interval: ONLY relevant if the user paused a running worker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pause_interval</span> <span class="o">=</span> <span class="mf">0.01</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pbar</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="GeneratorWorker.work"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.work">[docs]</a>    <span class="k">def</span> <span class="nf">work</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Core event loop that calls the original function.</span>

<span class="sd">        Enters a continual loop, yielding and returning from the original</span>
<span class="sd">        function.  Checks for various events (quit, pause, resume, etc...).</span>
<span class="sd">        (To clarify: we are creating a rudimentary event loop here because</span>
<span class="sd">        there IS NO Qt event loop running in the other thread to hook into)</span>
<span class="sd">        """</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">abort_requested</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">aborted</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_paused</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resume_requested</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_paused</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_resume_requested</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resumed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pause_interval</span><span class="p">)</span>
                    <span class="k">continue</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pause_requested</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_paused</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_pause_requested</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">paused</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
                <span class="k">continue</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_value</span><span class="p">()</span>
                <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gen</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">yielded</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">exc</span><span class="o">.</span><span class="n">value</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="c1"># The worker has probably been deleted.  warning will be</span>
                <span class="c1"># emitted in ``WorkerBase.run``</span>
                <span class="k">return</span> <span class="n">exc</span></div>

<div class="viewcode-block" id="GeneratorWorker.send"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.send">[docs]</a>    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="sd">"""Send a value into the function (if a generator was used)."""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_incoming_value</span> <span class="o">=</span> <span class="n">value</span></div>

    <span class="k">def</span> <span class="nf">_next_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">out</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_incoming_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_incoming_value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_incoming_value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_paused</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">"""Whether the worker is currently paused."""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_paused</span>

<div class="viewcode-block" id="GeneratorWorker.toggle_pause"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.toggle_pause">[docs]</a>    <span class="k">def</span> <span class="nf">toggle_pause</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Request to pause the worker if playing or resume if paused."""</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_paused</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_resume_requested</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pause_requested</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="GeneratorWorker.pause"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.pause">[docs]</a>    <span class="k">def</span> <span class="nf">pause</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Request to pause the worker."""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_paused</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pause_requested</span> <span class="o">=</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="GeneratorWorker.resume"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.resume">[docs]</a>    <span class="k">def</span> <span class="nf">resume</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""Send a request to resume the worker."""</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_paused</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_resume_requested</span> <span class="o">=</span> <span class="kc">True</span></div></div>


<span class="c1">############################################################################</span>

<span class="c1"># public API</span>

<span class="c1"># For now, the next three functions simply wrap the QThreadPool API, and allow</span>
<span class="c1"># us to track and cleanup all workers that were started with ``start_worker``,</span>
<span class="c1"># provided that ``wait_for_workers_to_quit`` is called at shutdown.</span>
<span class="c1"># In the future, this could wrap any API, or a pure python threadpool.</span>


<div class="viewcode-block" id="set_max_thread_count"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.html#napari.qt.threading.set_max_thread_count">[docs]</a><span class="k">def</span> <span class="nf">set_max_thread_count</span><span class="p">(</span><span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">"""Set the maximum number of threads used by the thread pool.</span>

<span class="sd">    Note: The thread pool will always use at least 1 thread, even if</span>
<span class="sd">    maxThreadCount limit is zero or negative.</span>
<span class="sd">    """</span>
    <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span><span class="o">.</span><span class="n">setMaxThreadCount</span><span class="p">(</span><span class="n">num</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">wait_for_workers_to_quit</span><span class="p">(</span><span class="n">msecs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""Ask all workers to quit, and wait up to `msec` for quit.</span>

<span class="sd">    Attempts to clean up all running workers by calling ``worker.quit()``</span>
<span class="sd">    method.  Any workers in the ``WorkerBase._worker_set`` set will have this</span>
<span class="sd">    method.</span>

<span class="sd">    By default, this function will block indefinitely, until worker threads</span>
<span class="sd">    finish.  If a timeout is provided, a ``RuntimeError`` will be raised if</span>
<span class="sd">    the workers do not gracefully exit in the time requests, but the threads</span>
<span class="sd">    will NOT be killed.  It is (currently) left to the user to use their OS</span>
<span class="sd">    to force-quit rogue threads.</span>

<span class="sd">    .. important::</span>

<span class="sd">        If the user does not put any yields in their function, and the function</span>
<span class="sd">        is super long, it will just hang... For instance, there's no graceful</span>
<span class="sd">        way to kill this thread in python:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            @thread_worker</span>
<span class="sd">            def ZZZzzz():</span>
<span class="sd">                time.sleep(10000000)</span>

<span class="sd">        This is why it's always advisable to use a generator that periodically</span>
<span class="sd">        yields for long-running computations in another thread.</span>

<span class="sd">        See `this stack-overflow post</span>
<span class="sd">        &lt;https://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread&gt;`_</span>
<span class="sd">        for a good discussion on the difficulty of killing a rogue python thread:</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    msecs : int, optional</span>
<span class="sd">        Waits up to msecs milliseconds for all threads to exit and removes all</span>
<span class="sd">        threads from the thread pool. If msecs is `None` (the default), the</span>
<span class="sd">        timeout is ignored (waits for the last thread to exit).</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    RuntimeError</span>
<span class="sd">        If a timeout is provided and workers do not quit successfully within</span>
<span class="sd">        the time allotted.</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">worker</span> <span class="ow">in</span> <span class="n">WorkerBase</span><span class="o">.</span><span class="n">_worker_set</span><span class="p">:</span>
        <span class="n">worker</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

    <span class="n">msecs</span> <span class="o">=</span> <span class="n">msecs</span> <span class="k">if</span> <span class="n">msecs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span><span class="o">.</span><span class="n">waitForDone</span><span class="p">(</span><span class="n">msecs</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                <span class="s2">"Workers did not quit gracefully in the time allotted (</span><span class="si">{msecs}</span><span class="s2"> ms)"</span><span class="p">,</span>
                <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">msecs</span><span class="o">=</span><span class="n">msecs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>


<div class="viewcode-block" id="active_thread_count"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.html#napari.qt.threading.active_thread_count">[docs]</a><span class="k">def</span> <span class="nf">active_thread_count</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">"""Return the number of active threads in the global ThreadPool."""</span>
    <span class="k">return</span> <span class="n">QThreadPool</span><span class="o">.</span><span class="n">globalInstance</span><span class="p">()</span><span class="o">.</span><span class="n">activeThreadCount</span><span class="p">()</span></div>


<span class="c1">#############################################################################</span>

<span class="c1"># convenience functions for creating Worker instances</span>


<div class="viewcode-block" id="create_worker"><a class="viewcode-back" href="../../../api/stable/napari.qt.threading.html#napari.qt.threading.create_worker">[docs]</a><span class="k">def</span> <span class="nf">create_worker</span><span class="p">(</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="n">_start_thread</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_connect</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Callable</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_progress</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_worker_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">WorkerBase</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">_ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkerBase</span><span class="p">:</span>
    <span class="sd">"""Convenience function to start a function in another thread.</span>

<span class="sd">    By default, uses :class:`Worker`, but a custom ``WorkerBase`` subclass may</span>
<span class="sd">    be provided.  If so, it must be a subclass of :class:`Worker`, which</span>
<span class="sd">    defines a standard set of signals and a run method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    func : Callable</span>
<span class="sd">        The function to call in another thread.</span>
<span class="sd">    _start_thread : bool, optional</span>
<span class="sd">        Whether to immediaetly start the thread.  If False, the returned worker</span>
<span class="sd">        must be manually started with ``worker.start()``. by default it will be</span>
<span class="sd">        ``False`` if the ``_connect`` argument is ``None``, otherwise ``True``.</span>
<span class="sd">    _connect : Dict[str, Union[Callable, Sequence]], optional</span>
<span class="sd">        A mapping of ``"signal_name"`` -&gt; ``callable`` or list of ``callable``:</span>
<span class="sd">        callback functions to connect to the various signals offered by the</span>
<span class="sd">        worker class. by default None</span>
<span class="sd">    _progress : Union[bool, Dict[str, Union[int, bool, str]]], optional</span>
<span class="sd">        Can be True, to provide indeterminate progress bar, or dictionary.</span>
<span class="sd">        If dict, requires mapping of 'total' to number of expected yields.</span>
<span class="sd">        If total is not provided, progress bar will be indeterminate. Will connect</span>
<span class="sd">        progress bar update to yields and display this progress in the viewer.</span>
<span class="sd">        Can also take a mapping of 'desc' to the progress bar description.</span>
<span class="sd">        Progress bar will become indeterminate when number of yields exceeds 'total'.</span>
<span class="sd">        By default None.</span>
<span class="sd">    _worker_class : Type[WorkerBase], optional</span>
<span class="sd">        The :class`WorkerBase` to instantiate, by default</span>
<span class="sd">        :class:`FunctionWorker` will be used if ``func`` is a regular function,</span>
<span class="sd">        and :class:`GeneratorWorker` will be used if it is a generator.</span>
<span class="sd">    _ignore_errors : bool, optional</span>
<span class="sd">        If ``False`` (the default), errors raised in the other thread will be</span>
<span class="sd">        reraised in the main thread (makes debugging significantly easier).</span>
<span class="sd">    *args</span>
<span class="sd">        will be passed to ``func``</span>
<span class="sd">    **kwargs</span>
<span class="sd">        will be passed to ``func``</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    worker : WorkerBase</span>
<span class="sd">        An instantiated worker.  If ``_start_thread`` was ``False``, the worker</span>
<span class="sd">        will have a `.start()` method that can be used to start the thread.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    TypeError</span>
<span class="sd">        If a worker_class is provided that is not a subclass of WorkerBase.</span>
<span class="sd">    TypeError</span>
<span class="sd">        If _connect is provided and is not a dict of ``{str: callable}``</span>
<span class="sd">    TypeError</span>
<span class="sd">        If _progress is provided and function is not a generator</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    .. code-block:: python</span>

<span class="sd">        def long_function(duration):</span>
<span class="sd">            import time</span>
<span class="sd">            time.sleep(duration)</span>

<span class="sd">        worker = create_worker(long_function, 10)</span>

<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_worker_class</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isgeneratorfunction</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="n">_worker_class</span> <span class="o">=</span> <span class="n">GeneratorWorker</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_worker_class</span> <span class="o">=</span> <span class="n">FunctionWorker</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">_worker_class</span><span class="p">)</span>
        <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">_worker_class</span><span class="p">,</span> <span class="n">WorkerBase</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                <span class="s1">'Worker </span><span class="si">{_worker_class}</span><span class="s1"> must be a subclass of WorkerBase'</span><span class="p">,</span>
                <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">_worker_class</span><span class="o">=</span><span class="n">_worker_class</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="n">worker</span> <span class="o">=</span> <span class="n">_worker_class</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">_connect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_connect</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                    <span class="s2">"The '_connect' argument must be a dict"</span><span class="p">,</span>
                    <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">_start_thread</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_start_thread</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_connect</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_val</span> <span class="o">=</span> <span class="n">val</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="k">else</span> <span class="p">[</span><span class="n">val</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_val</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                            <span class="s1">'"_connect[</span><span class="si">{key!r}</span><span class="s1">]" must be a function or sequence of functions'</span><span class="p">,</span>
                            <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">worker</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="c1"># either True or a non-empty dictionary</span>
    <span class="k">if</span> <span class="n">_progress</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_progress</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">_progress</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">desc</span> <span class="o">=</span> <span class="n">_progress</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'desc'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">_progress</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">worker</span><span class="p">,</span> <span class="n">FunctionWorker</span><span class="p">)</span> <span class="ow">and</span> <span class="n">total</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span>
                    <span class="s2">"_progress total != 0 but worker is FunctionWorker and will not yield. Returning indeterminate progress bar..."</span><span class="p">,</span>
                    <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="ne">RuntimeWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">pbar</span> <span class="o">=</span> <span class="n">progress</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="n">desc</span><span class="p">)</span>
        <span class="n">worker</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">pbar</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">worker</span><span class="p">,</span> <span class="n">GeneratorWorker</span><span class="p">):</span>
            <span class="n">worker</span><span class="o">.</span><span class="n">yielded</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">pbar</span><span class="o">.</span><span class="n">increment_with_overflow</span><span class="p">)</span>

        <span class="n">worker</span><span class="o">.</span><span class="n">pbar</span> <span class="o">=</span> <span class="n">pbar</span>

    <span class="c1"># if the user has not provided a default connection for the "errored"</span>
    <span class="c1"># signal... and they have not explicitly set ``ignore_errors=True``</span>
    <span class="c1"># Then rereaise any errors from the thread.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_ignore_errors</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">_connect</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'errored'</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">reraise</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="n">worker</span><span class="o">.</span><span class="n">errored</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">reraise</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">_start_thread</span><span class="p">:</span>
        <span class="n">worker</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">worker</span></div>


<span class="nd">@tz</span><span class="o">.</span><span class="n">curry</span>
<span class="k">def</span> <span class="nf">thread_worker</span><span class="p">(</span>
    <span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span>
    <span class="n">start_thread</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">connect</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Callable</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">progress</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">worker_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">WorkerBase</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ignore_errors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
    <span class="sd">"""Decorator that runs a function in a separate thread when called.</span>

<span class="sd">    When called, the decorated function returns a :class:`WorkerBase`.  See</span>
<span class="sd">    :func:`create_worker` for additional keyword arguments that can be used</span>
<span class="sd">    when calling the function.</span>

<span class="sd">    The returned worker will have these signals:</span>

<span class="sd">        - *started*: emitted when the work is started</span>
<span class="sd">        - *finished*: emitted when the work is finished</span>
<span class="sd">        - *returned*: emitted with return value</span>
<span class="sd">        - *errored*: emitted with error object on Exception</span>

<span class="sd">    It will also have a ``worker.start()`` method that can be used to start</span>
<span class="sd">    execution of the function in another thread. (useful if you need to connect</span>
<span class="sd">    callbacks to signals prior to execution)</span>

<span class="sd">    If the decorated function is a generator, the returned worker will also</span>
<span class="sd">    provide these signals:</span>

<span class="sd">        - *yielded*: emitted with yielded values</span>
<span class="sd">        - *paused*: emitted when a running job has successfully paused</span>
<span class="sd">        - *resumed*: emitted when a paused job has successfully resumed</span>
<span class="sd">        - *aborted*: emitted when a running job is successfully aborted</span>

<span class="sd">    And these methods:</span>

<span class="sd">        - *quit*: ask the thread to quit</span>
<span class="sd">        - *toggle_paused*: toggle the running state of the thread.</span>
<span class="sd">        - *send*: send a value into the generator.  (This requires that your</span>
<span class="sd">          decorator function uses the ``value = yield`` syntax)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    function : callable</span>
<span class="sd">        Function to call in another thread.  For communication between threads</span>
<span class="sd">        may be a generator function.</span>
<span class="sd">    start_thread : bool, optional</span>
<span class="sd">        Whether to immediaetly start the thread.  If False, the returned worker</span>
<span class="sd">        must be manually started with ``worker.start()``. by default it will be</span>
<span class="sd">        ``False`` if the ``_connect`` argument is ``None``, otherwise ``True``.</span>
<span class="sd">    connect : Dict[str, Union[Callable, Sequence]], optional</span>
<span class="sd">        A mapping of ``"signal_name"`` -&gt; ``callable`` or list of ``callable``:</span>
<span class="sd">        callback functions to connect to the various signals offered by the</span>
<span class="sd">        worker class. by default None</span>
<span class="sd">    progress : Union[bool, Dict[str, Union[int, bool, str]]], optional</span>
<span class="sd">        Can be True, to provide indeterminate progress bar, or dictionary.</span>
<span class="sd">        If dict, requires mapping of 'total' to number of expected yields.</span>
<span class="sd">        If total is not provided, progress bar will be indeterminate. Will connect</span>
<span class="sd">        progress bar update to yields and display this progress in the viewer.</span>
<span class="sd">        Can also take a mapping of 'desc' to the progress bar description.</span>
<span class="sd">        Progress bar will become indeterminate when number of yields exceeds 'total'.</span>
<span class="sd">        By default None. Must be used in conjunction with a generator function.</span>
<span class="sd">    worker_class : Type[WorkerBase], optional</span>
<span class="sd">        The :class`WorkerBase` to instantiate, by default</span>
<span class="sd">        :class:`FunctionWorker` will be used if ``func`` is a regular function,</span>
<span class="sd">        and :class:`GeneratorWorker` will be used if it is a generator.</span>
<span class="sd">    ignore_errors : bool, optional</span>
<span class="sd">        If ``False`` (the default), errors raised in the other thread will be</span>
<span class="sd">        reraised in the main thread (makes debugging significantly easier).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    callable</span>
<span class="sd">        function that creates a worker, puts it in a new thread and returns</span>
<span class="sd">        the worker instance.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    .. code-block:: python</span>

<span class="sd">        @thread_worker</span>
<span class="sd">        def long_function(start, end):</span>
<span class="sd">            # do work, periodically yielding</span>
<span class="sd">            i = start</span>
<span class="sd">            while i &lt;= end:</span>
<span class="sd">                time.sleep(0.1)</span>
<span class="sd">                yield i</span>

<span class="sd">            # do teardown</span>
<span class="sd">            return 'anything'</span>

<span class="sd">        # call the function to start running in another thread.</span>
<span class="sd">        worker = long_function()</span>
<span class="sd">        # connect signals here if desired... or they may be added using the</span>
<span class="sd">        # `connect` argument in the `@thread_worker` decorator... in which</span>
<span class="sd">        # case the worker will start immediately when long_function() is called</span>
<span class="sd">        worker.start()</span>
<span class="sd">    """</span>

    <span class="nd">@wraps</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">worker_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># decorator kwargs can be overridden at call time by using the</span>
        <span class="c1"># underscore-prefixed version of the kwarg.</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">'_start_thread'</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'_start_thread'</span><span class="p">,</span> <span class="n">start_thread</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">'_connect'</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'_connect'</span><span class="p">,</span> <span class="n">connect</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">'_progress'</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'_progress'</span><span class="p">,</span> <span class="n">progress</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">'_worker_class'</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'_worker_class'</span><span class="p">,</span> <span class="n">worker_class</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">'_ignore_errors'</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'_ignore_errors'</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">create_worker</span><span class="p">(</span>
            <span class="n">function</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">worker_function</span>


<span class="c1">############################################################################</span>

<span class="c1"># This is a variant on the above pattern, it uses QThread instead of Qrunnable</span>
<span class="c1"># see https://doc.qt.io/qt-5/threads-technologies.html#comparison-of-solutions</span>
<span class="c1"># (it appears from that table that QRunnable cannot emit or receive signals,</span>
<span class="c1"># but we circumvent that here with our WorkerBase class that also inherits from</span>
<span class="c1"># QObject... providing signals/slots).</span>
<span class="c1">#</span>
<span class="c1"># A benefit of the QRunnable pattern is that Qt manages the threads for you,</span>
<span class="c1"># in the QThreadPool.globalInstance() ... making it easier to reuse threads,</span>
<span class="c1"># and reduce overhead.</span>
<span class="c1">#</span>
<span class="c1"># However, a disadvantage is that you have no access to (and therefore less</span>
<span class="c1"># control over) the QThread itself.  See for example all of the methods</span>
<span class="c1"># provided on the QThread object: https://doc.qt.io/qt-5/qthread.html</span>


<span class="c1"># TODO: potentially remove this altogether, by refactoring the dims</span>
<span class="c1"># AnimationWorker to subclass WorkerBase</span>


<span class="k">def</span> <span class="nf">_new_worker_qthread</span><span class="p">(</span>
    <span class="n">Worker</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">QObject</span><span class="p">],</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="n">_start_thread</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">_connect</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""This is a convenience function to start a worker in a Qthread.</span>

<span class="sd">    In most cases, the @thread_worker decorator is sufficient and preferable.</span>
<span class="sd">    But this allows the user to completely customize the Worker object.</span>
<span class="sd">    However, they must then maintain control over the thread and clean up</span>
<span class="sd">    appropriately.</span>

<span class="sd">    It follows the pattern described here:</span>
<span class="sd">    https://www.qt.io/blog/2010/06/17/youre-doing-it-wrong</span>
<span class="sd">    and</span>
<span class="sd">    https://doc.qt.io/qt-5/qthread.html#details</span>

<span class="sd">    see also:</span>
<span class="sd">    https://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/</span>

<span class="sd">    A QThread object is not a thread! It should be thought of as a class to</span>
<span class="sd">    *manage* a thread, not as the actual code or object that runs in that</span>
<span class="sd">    thread.  The QThread object is created on the main thread and lives there.</span>

<span class="sd">    Worker objects which derive from QObject are the things that actually do</span>
<span class="sd">    the work. They can be moved to a QThread as is done here.</span>

<span class="sd">    .. note:: Mostly ignorable detail</span>

<span class="sd">        While the signals/slots syntax of the worker looks very similar to</span>
<span class="sd">        standard "single-threaded" signals &amp; slots, note that inter-thread</span>
<span class="sd">        signals and slots (automatically) use an event-based QueuedConnection,</span>
<span class="sd">        while intra-thread signals use a DirectConnection. See `Signals and</span>
<span class="sd">        Slots Across Threads</span>
<span class="sd">        &lt;https://doc.qt.io/qt-5/threads-qobject.html#signals-and-slots-across-threads&gt;`_</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Worker : QObject</span>
<span class="sd">        QObject type that implements a work() method.  The Worker should also</span>
<span class="sd">        emit a finished signal when the work is done.</span>
<span class="sd">    _start_thread : bool</span>
<span class="sd">        If True, thread will be started immediately, otherwise, thread must</span>
<span class="sd">        be manually started with thread.start().</span>
<span class="sd">    _connect : dict, optional</span>
<span class="sd">        Optional dictionary of {signal: function} to connect to the new worker.</span>
<span class="sd">        for instance:  connections = {'incremented': myfunc} will result in:</span>
<span class="sd">        worker.incremented.connect(myfunc)</span>
<span class="sd">    *args</span>
<span class="sd">        will be passed to the Worker class on instantiation.</span>
<span class="sd">    **kwargs</span>
<span class="sd">        will be passed to the Worker class on instantiation.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    worker : WorkerBase</span>
<span class="sd">        The created worker.</span>
<span class="sd">    thread : QThread</span>
<span class="sd">        The thread on which the worker is running.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Create some QObject that has a long-running work method:</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        class Worker(QObject):</span>

<span class="sd">            finished = Signal()</span>
<span class="sd">            increment = Signal(int)</span>

<span class="sd">            def __init__(self, argument):</span>
<span class="sd">                super().__init__()</span>
<span class="sd">                self.argument = argument</span>

<span class="sd">            @Slot()</span>
<span class="sd">            def work(self):</span>
<span class="sd">                # some long running task...</span>
<span class="sd">                import time</span>
<span class="sd">                for i in range(10):</span>
<span class="sd">                    time.sleep(1)</span>
<span class="sd">                    self.increment.emit(i)</span>
<span class="sd">                self.finished.emit()</span>

<span class="sd">        worker, thread = _new_worker_qthread(</span>
<span class="sd">            Worker,</span>
<span class="sd">            'argument',</span>
<span class="sd">            start_thread=True,</span>
<span class="sd">            connections={'increment': print},</span>
<span class="sd">        )</span>

<span class="sd">    """</span>

    <span class="k">if</span> <span class="n">_connect</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_connect</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s1">'_connect parameter must be a dict'</span><span class="p">,</span> <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">thread</span> <span class="o">=</span> <span class="n">QThread</span><span class="p">()</span>
    <span class="n">worker</span> <span class="o">=</span> <span class="n">Worker</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">worker</span><span class="o">.</span><span class="n">moveToThread</span><span class="p">(</span><span class="n">thread</span><span class="p">)</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">started</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">worker</span><span class="o">.</span><span class="n">work</span><span class="p">)</span>
    <span class="n">worker</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">thread</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
    <span class="n">worker</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">worker</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">thread</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">_connect</span><span class="p">:</span>
        <span class="p">[</span><span class="nb">getattr</span><span class="p">(</span><span class="n">worker</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">_connect</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>

    <span class="k">if</span> <span class="n">_start_thread</span><span class="p">:</span>
        <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>  <span class="c1"># sometimes need to connect stuff before starting</span>
    <span class="k">return</span> <span class="n">worker</span><span class="p">,</span> <span class="n">thread</span>
</pre></div>
      </div></div><div class="fresnel-container fresnel-greaterThanOrEqual-screen-1425 "><ul class="flex flex-col border-l border-black sticky top-12"></ul></div></div></main><div class="flex flex-row items-center justify-start h-[4.6875em] w-full px-6 screen-495:px-12 bg-black"><a href="https://napari-hub.org" class="text-white whitespace-nowrap mr-4 last:mr-0 flex flex-row items-center" target="_blank" rel="noreferrer"><svg class="h-[1em] w-[1em] inline-block mr-1" width="487" height="512" viewBox="0 0 487 512" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Visit napari hub</title><circle cx="243.036" cy="256" r="85.3333" fill="white" stroke="white" stroke-width="56.8889"></circle><circle cx="243.036" cy="42.6667" r="42.6667" fill="white"></circle><circle cx="243.036" cy="469.333" r="42.6667" fill="white"></circle><path d="M243.036 28.4444L243.036 142.222" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path><path d="M243.036 369.778L243.036 483.556" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="58.2838" cy="149.333" r="42.6667" transform="rotate(-60 58.2838 149.333)" fill="white"></circle><circle cx="427.788" cy="362.667" r="42.6667" transform="rotate(-60 427.788 362.667)" fill="white"></circle><path d="M45.967 142.222L144.501 199.111" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path><path d="M341.57 312.889L440.105 369.778" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="58.2838" cy="362.667" r="42.6667" transform="rotate(-120 58.2838 362.667)" fill="white"></circle><circle cx="427.788" cy="149.333" r="42.6667" transform="rotate(-120 427.788 149.333)" fill="white"></circle><path d="M45.967 369.778L144.501 312.889" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path><path d="M341.57 199.111L440.105 142.222" stroke="white" stroke-width="56.8889" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="font-semibold text-[0.875em]"><span class="font-normal">napari</span> hub</span></a><a href="https://github.com/napari/napari" class="text-white whitespace-nowrap mr-4 last:mr-0 flex flex-row items-center" target="_blank" rel="noreferrer"><svg class="h-[1em] w-[1em] inline-block mr-1" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Visit GitHub repository</title><path d="M7 0.173252C3.1325 0.173252 0 3.3075 0 7.17325C0 10.2667 2.0055 12.8899 4.78625 13.8145C5.13625 13.8804 5.26458 13.664 5.26458 13.4779C5.26458 13.3117 5.25875 12.8713 5.25583 12.2879C3.30867 12.7103 2.898 11.3488 2.898 11.3488C2.5795 10.5408 2.11925 10.325 2.11925 10.325C1.48517 9.891 2.16825 9.89975 2.16825 9.89975C2.87117 9.94875 3.24042 10.6208 3.24042 10.6208C3.86458 11.6912 4.879 11.382 5.27917 11.2029C5.34217 10.7503 5.52242 10.4417 5.7225 10.2667C4.16792 10.0917 2.534 9.48967 2.534 6.8075C2.534 6.04334 2.80525 5.41917 3.25442 4.92917C3.17567 4.75242 2.93942 4.04075 3.31567 3.0765C3.31567 3.0765 3.90192 2.88867 5.24067 3.794C5.80067 3.63825 6.39567 3.56125 6.99067 3.55775C7.58567 3.56125 8.18067 3.63825 8.74067 3.794C10.0707 2.88867 10.6569 3.0765 10.6569 3.0765C11.0332 4.04075 10.7969 4.75242 10.7269 4.92917C11.1732 5.41917 11.4444 6.04334 11.4444 6.8075C11.4444 9.49667 9.80817 10.0888 8.25067 10.2608C8.49567 10.4708 8.72317 10.9002 8.72317 11.5558C8.72317 12.4927 8.71442 13.2452 8.71442 13.4727C8.71442 13.6564 8.83692 13.8752 9.19567 13.8052C11.9962 12.887 14 10.262 14 7.17325C14 3.3075 10.8657 0.173252 7 0.173252Z" fill="white"></path></svg><span class="font-semibold text-[0.875em]">GitHub</span></a><a href="https://twitter.com/napari_imaging" class="text-white whitespace-nowrap mr-4 last:mr-0 flex flex-row items-center" target="_blank" rel="noreferrer"><svg class="h-[1em] w-[1em] inline-block mr-1" width="15" height="13" viewBox="0 0 15 13" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Visit Twitter page</title><path d="M13.4581 3.44478C13.4676 3.57802 13.4676 3.7113 13.4676 3.84454C13.4676 7.9086 10.3744 12.5914 4.72082 12.5914C2.97906 12.5914 1.36105 12.0869 7.62939e-06 11.2113C0.247478 11.2398 0.485398 11.2494 0.742391 11.2494C2.17955 11.2494 3.50254 10.764 4.55901 9.93591C3.20749 9.90735 2.07487 9.0222 1.68464 7.80392C1.87501 7.83246 2.06535 7.8515 2.26524 7.8515C2.54125 7.8515 2.81728 7.81341 3.07425 7.74682C1.66562 7.46127 0.609119 6.22397 0.609119 4.72968V4.69163C1.01837 4.92006 1.49429 5.06282 1.9987 5.08183C1.17065 4.52979 0.628162 3.58755 0.628162 2.52155C0.628162 1.9505 0.780418 1.42702 1.04693 0.970164C2.56026 2.83564 4.83502 4.05389 7.38575 4.18717C7.33817 3.95874 7.30961 3.72082 7.30961 3.48287C7.30961 1.78869 8.68017 0.40863 10.3838 0.40863C11.269 0.40863 12.0685 0.779822 12.63 1.37944C13.3248 1.2462 13.9911 0.989207 14.5812 0.637058C14.3527 1.35091 13.8673 1.95052 13.2297 2.33121C13.8483 2.26462 14.4479 2.09326 14.9999 1.85534C14.5812 2.46445 14.0577 3.00694 13.4581 3.44478Z" fill="white"></path></svg><span class="font-semibold text-[0.875em]">Twitter</span></a><a href="https://forum.image.sc/tag/napari" class="text-white whitespace-nowrap mr-4 last:mr-0 flex flex-row items-center" target="_blank" rel="noreferrer"><svg class="h-[1.25em] w-[1.25em] inline-block mr-1" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Visit image.sc forum</title><path d="M12.9987 4.65361V2.01143C12.9987 2.00512 12.9936 2 12.9873 2H6.95296C6.94665 2 6.94153 2.00512 6.94153 2.01143V8.04571C6.94153 8.05203 6.94665 8.05714 6.95296 8.05714H10.9701" stroke="white" stroke-width="2.34286"></path><path d="M6.94153 15.3464V17.9886C6.94153 17.9949 6.94665 18 6.95296 18H12.9873C12.9936 18 12.9987 17.9949 12.9987 17.9886V11.9543C12.9987 11.948 12.9936 11.9429 12.9873 11.9429H8.9701" stroke="white" stroke-width="2.34286"></path><path d="M16.1145 9.9496L18.4027 8.62852C18.4082 8.62536 18.4101 8.61837 18.4069 8.6129L15.3898 3.38706C15.3866 3.38159 15.3796 3.37972 15.3742 3.38288L10.1483 6.40002C10.1429 6.40317 10.141 6.41016 10.1441 6.41563L12.1527 9.89458" stroke="white" stroke-width="2.34286"></path><path d="M3.82577 10.0503L1.53758 11.3714C1.53211 11.3745 1.53024 11.3815 1.5334 11.387L4.55054 16.6128C4.5537 16.6183 4.56069 16.6202 4.56615 16.617L9.792 13.5999C9.79746 13.5967 9.79934 13.5897 9.79618 13.5842L7.78761 10.1053" stroke="white" stroke-width="2.34286"></path><path d="M13.086 15.2962L15.3742 16.6173C15.3796 16.6205 15.3866 16.6186 15.3898 16.6131L18.4069 11.3873C18.4101 11.3818 18.4082 11.3748 18.4027 11.3717L13.1769 8.35456C13.1714 8.35141 13.1644 8.35328 13.1613 8.35875L11.1527 11.8377" stroke="white" stroke-width="2.34286"></path><path d="M6.85434 4.70397L4.56614 3.38288C4.56068 3.37973 4.55369 3.3816 4.55053 3.38707L1.53339 8.61291C1.53023 8.61838 1.53211 8.62537 1.53757 8.62852L6.76342 11.6457C6.76888 11.6488 6.77587 11.647 6.77903 11.6415L8.7876 8.16254" stroke="white" stroke-width="2.34286"></path></svg><span class="font-semibold text-[0.875em]">image.sc</span></a><a href="https://napari.zulipchat.com" class="text-white whitespace-nowrap mr-4 last:mr-0 flex flex-row items-center" target="_blank" rel="noreferrer"><svg class="h-[1em] w-[1em] inline-block mr-1" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Visit Zulip chatroom</title><g clip-path="url(#clip0)"><path d="M15.178 2.39267C15.178 3.19867 14.816 3.91467 14.2647 4.34867L8.90869 9.13133C8.80935 9.21667 8.68002 9.07933 8.75202 8.96467L10.716 5.03133C10.7714 4.92133 10.7 4.786 10.5867 4.786H2.96802C1.78802 4.786 0.822021 3.70933 0.822021 2.39267C0.822021 1.07733 1.78802 3.09431e-07 2.96802 3.09431e-07H13.032C14.212 -0.000666357 15.178 1.076 15.178 2.39267ZM2.96802 16H13.032C14.212 16 15.178 14.9227 15.178 13.6067C15.178 12.2907 14.212 11.2133 13.032 11.2133H5.41335C5.30002 11.2133 5.22869 11.0787 5.28402 10.9687L7.24802 7.03533C7.32002 6.92067 7.19069 6.78333 7.09135 6.86867L1.73602 11.6507C1.18402 12.084 0.822688 12.8007 0.822688 13.6067C0.822688 14.9227 1.78802 16 2.96802 16Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg><span class="font-semibold text-[0.875em]">Zulip</span></a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"state":{"globalHeaders":{"https://napari-hub.org":{"level":1,"children":[],"href":"https://napari-hub.org","text":"napari hub"},"https://github.com/napari/napari":{"level":1,"children":[],"href":"https://github.com/napari/napari","text":"napari source code"},"/developers/index.html":{"level":1,"children":["/developers/benchmarks.html","/developers/contributing.html","/developers/core_dev_guide.html","/developers/profiling.html","/developers/release.html","/developers/testing.html","/developers/docs.html"],"href":"/developers/index.html","text":"Developer resources"},"/developers/docs.html":{"level":2,"children":[],"href":"/developers/docs.html","text":"Organization of Documentation for napari"},"/developers/testing.html":{"level":2,"children":[],"href":"/developers/testing.html","text":"Testing"},"/developers/release.html":{"level":2,"children":[],"href":"/developers/release.html","text":"Release Guide"},"/developers/profiling.html":{"level":2,"children":[],"href":"/developers/profiling.html","text":"Profiling"},"/developers/core_dev_guide.html":{"level":2,"children":[],"href":"/developers/core_dev_guide.html","text":"Core Developer Guide"},"/developers/contributing.html":{"level":2,"children":[],"href":"/developers/contributing.html","text":"Contributing Guide"},"/developers/benchmarks.html":{"level":2,"children":[],"href":"/developers/benchmarks.html","text":"Benchmarks"},"/guides/stable/index.html":{"level":1,"children":["/guides/stable/event_loop.html","/guides/stable/threading.html","/guides/stable/perfmon.html","/guides/stable/rendering.html","/guides/stable/docker.html","/guides/stable/performance.html","/guides/stable/magicgui.html","/guides/stable/translations.html","/guides/stable/rendering-explanation.html","/guides/stable/connecting_events.html","/guides/stable/connecting_events.html#long-running-blocking-functions","/guides/stable/3D_interactivity.html"],"href":"/guides/stable/index.html","text":"Developer guides"},"/guides/stable/3D_interactivity.html":{"level":2,"children":[],"href":"/guides/stable/3D_interactivity.html","text":"3D interactivity"},"/guides/stable/connecting_events.html#long-running-blocking-functions":{"level":2,"children":[],"href":"/guides/stable/connecting_events.html#long-running-blocking-functions","text":"Long-running, blocking functions"},"/guides/stable/connecting_events.html":{"level":2,"children":[],"href":"/guides/stable/connecting_events.html","text":"Hooking up your own events"},"/guides/stable/rendering-explanation.html":{"level":2,"children":[],"href":"/guides/stable/rendering-explanation.html","text":"Rendering in napari"},"/guides/stable/translations.html":{"level":2,"children":[],"href":"/guides/stable/translations.html","text":"Translations"},"/guides/stable/magicgui.html":{"level":2,"children":[],"href":"/guides/stable/magicgui.html","text":"Using magicgui in napari"},"/guides/stable/performance.html":{"level":2,"children":[],"href":"/guides/stable/performance.html","text":"Napari Performance"},"/guides/stable/docker.html":{"level":2,"children":[],"href":"/guides/stable/docker.html","text":"Napari in Docker (WIP)"},"/guides/stable/rendering.html":{"level":2,"children":[],"href":"/guides/stable/rendering.html","text":"Asynchronous Rendering"},"/guides/stable/perfmon.html":{"level":2,"children":[],"href":"/guides/stable/perfmon.html","text":"Performance Monitoring"},"/guides/stable/threading.html":{"level":2,"children":[],"href":"/guides/stable/threading.html","text":"Multithreading in napari"},"/guides/stable/event_loop.html":{"level":2,"children":[],"href":"/guides/stable/event_loop.html","text":"An Introduction to the Event Loop in napari"},"/roadmaps/index.html":{"level":1,"children":["/roadmaps/0_4.html","/roadmaps/0_3_retrospective.html","/roadmaps/0_3.html"],"href":"/roadmaps/index.html","text":"Roadmaps"},"/roadmaps/0_3.html":{"level":2,"children":[],"href":"/roadmaps/0_3.html","text":"Roadmap 0.3"},"/roadmaps/0_3_retrospective.html":{"level":2,"children":[],"href":"/roadmaps/0_3_retrospective.html","text":"Roadmap 0.3 Retrospective"},"/roadmaps/0_4.html":{"level":2,"children":[],"href":"/roadmaps/0_4.html","text":"Roadmap 0.4"},"/api/stable/index.html":{"level":1,"children":["/api/stable/napari.layers.html","/api/stable/napari.view_layers.html","/api/stable/napari.types.html","/api/stable/napari.utils.html","/api/stable/napari.plugins.html","/api/stable/napari.components.html","/api/stable/napari.qt.threading.html","/api/stable/napari.utils.perf.html","/api/stable/napari.html"],"href":"/api/stable/index.html","text":"API reference"},"/api/stable/napari.html":{"level":2,"children":["/api/stable/napari.Viewer.html"],"href":"/api/stable/napari.html","text":"napari"},"/api/stable/napari.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.Viewer.html","text":"napari.Viewer"},"/api/stable/napari.utils.perf.html":{"level":2,"children":["/api/stable/napari.utils.perf.PerfEvent.html"],"href":"/api/stable/napari.utils.perf.html","text":"napari.utils.perf"},"/api/stable/napari.utils.perf.PerfEvent.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.perf.PerfEvent.html","text":"napari.utils.perf.PerfEvent"},"/api/stable/napari.qt.threading.html":{"level":2,"children":["/api/stable/napari.qt.threading.FunctionWorker.html","/api/stable/napari.qt.threading.GeneratorWorker.html","/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","/api/stable/napari.qt.threading.WorkerBase.html","/api/stable/napari.qt.threading.WorkerBaseSignals.html"],"href":"/api/stable/napari.qt.threading.html","text":"napari.qt.threading"},"/api/stable/napari.qt.threading.WorkerBaseSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBaseSignals.html","text":"napari.qt.threading.WorkerBaseSignals"},"/api/stable/napari.qt.threading.WorkerBase.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBase.html","text":"napari.qt.threading.WorkerBase"},"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","text":"napari.qt.threading.GeneratorWorkerSignals"},"/api/stable/napari.qt.threading.GeneratorWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorker.html","text":"napari.qt.threading.GeneratorWorker"},"/api/stable/napari.qt.threading.FunctionWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.FunctionWorker.html","text":"napari.qt.threading.FunctionWorker"},"/api/stable/napari.components.html":{"level":2,"children":["/api/stable/napari.components.Camera.html","/api/stable/napari.components.Dims.html","/api/stable/napari.components.LayerList.html","/api/stable/napari.components.ViewerModel.html"],"href":"/api/stable/napari.components.html","text":"napari.components"},"/api/stable/napari.components.ViewerModel.html":{"level":3,"children":[],"href":"/api/stable/napari.components.ViewerModel.html","text":"napari.components.ViewerModel"},"/api/stable/napari.components.LayerList.html":{"level":3,"children":[],"href":"/api/stable/napari.components.LayerList.html","text":"napari.components.LayerList"},"/api/stable/napari.components.Dims.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Dims.html","text":"napari.components.Dims"},"/api/stable/napari.components.Camera.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Camera.html","text":"napari.components.Camera"},"/api/stable/napari.plugins.html":{"level":2,"children":["/api/stable/napari.plugins.NapariPluginManager.html"],"href":"/api/stable/napari.plugins.html","text":"napari.plugins"},"/api/stable/napari.plugins.NapariPluginManager.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.NapariPluginManager.html","text":"napari.plugins.NapariPluginManager"},"/api/stable/napari.utils.html":{"level":2,"children":["/api/stable/napari.utils.Colormap.html","/api/stable/napari.utils.nbscreenshot.html"],"href":"/api/stable/napari.utils.html","text":"napari.utils"},"/api/stable/napari.utils.nbscreenshot.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.nbscreenshot.html","text":"napari.utils.nbscreenshot"},"/api/stable/napari.utils.Colormap.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.Colormap.html","text":"napari.utils.Colormap"},"/api/stable/napari.types.html":{"level":2,"children":["/api/stable/napari.types.ArrayBase.html","/api/stable/napari.types.Path.html","/api/stable/napari.types.SampleDict.html","/api/stable/napari.types.TracebackType.html","/api/stable/napari.types.TypedDict.html"],"href":"/api/stable/napari.types.html","text":"napari.types"},"/api/stable/napari.types.TypedDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TypedDict.html","text":"napari.types.TypedDict"},"/api/stable/napari.types.TracebackType.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TracebackType.html","text":"napari.types.TracebackType"},"/api/stable/napari.types.SampleDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.SampleDict.html","text":"napari.types.SampleDict"},"/api/stable/napari.types.Path.html":{"level":3,"children":[],"href":"/api/stable/napari.types.Path.html","text":"napari.types.Path"},"/api/stable/napari.types.ArrayBase.html":{"level":3,"children":[],"href":"/api/stable/napari.types.ArrayBase.html","text":"napari.types.ArrayBase"},"/api/stable/napari.view_layers.html":{"level":2,"children":["/api/stable/napari.view_layers.Viewer.html"],"href":"/api/stable/napari.view_layers.html","text":"napari.view_layers"},"/api/stable/napari.view_layers.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.view_layers.Viewer.html","text":"napari.view_layers.Viewer"},"/api/stable/napari.layers.html":{"level":2,"children":["/api/stable/napari.layers.Image.html","/api/stable/napari.layers.Labels.html","/api/stable/napari.layers.Layer.html","/api/stable/napari.layers.Points.html","/api/stable/napari.layers.Shapes.html","/api/stable/napari.layers.Surface.html","/api/stable/napari.layers.Tracks.html","/api/stable/napari.layers.Vectors.html"],"href":"/api/stable/napari.layers.html","text":"napari.layers"},"/api/stable/napari.layers.Vectors.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Vectors.html","text":"napari.layers.Vectors"},"/api/stable/napari.layers.Tracks.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Tracks.html","text":"napari.layers.Tracks"},"/api/stable/napari.layers.Surface.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Surface.html","text":"napari.layers.Surface"},"/api/stable/napari.layers.Shapes.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Shapes.html","text":"napari.layers.Shapes"},"/api/stable/napari.layers.Points.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Points.html","text":"napari.layers.Points"},"/api/stable/napari.layers.Layer.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Layer.html","text":"napari.layers.Layer"},"/api/stable/napari.layers.Labels.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Labels.html","text":"napari.layers.Labels"},"/api/stable/napari.layers.Image.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Image.html","text":"napari.layers.Image"},"/release/index.html":{"level":1,"children":["/release/release_0_4_10.html","/release/release_0_4_9.html","/release/release_0_4_8.html","/release/release_0_4_7.html","/release/release_0_4_6.html","/release/release_0_4_5.html","/release/release_0_4_4.html","/release/release_0_4_3.html","/release/release_0_4_2.html","/release/release_0_4_1.html","/release/release_0_4_0.html","/release/release_0_3_8.html","/release/release_0_3_7.html","/release/release_0_3_6.html","/release/release_0_3_5.html","/release/release_0_3_4.html","/release/release_0_3_3.html","/release/release_0_3_2.html","/release/release_0_3_1.html","/release/release_0_3_0.html","/release/release_0_2_12.html","/release/release_0_2_11.html","/release/release_0_2_10.html","/release/release_0_2_9.html","/release/release_0_2_8.html","/release/release_0_2_7.html","/release/release_0_2_6.html","/release/release_0_2_5.html","/release/release_0_2_4.html","/release/release_0_2_3.html","/release/release_0_2_1.html","/release/release_0_2_0.html","/release/release_0_1_5.html","/release/release_0_1_3.html","/release/release_0_1_0.html","/release/release_0_4_11.html"],"href":"/release/index.html","text":"Release notes"},"/release/release_0_4_11.html":{"level":2,"children":[],"href":"/release/release_0_4_11.html","text":"napari 0.4.11"},"/release/release_0_1_0.html":{"level":2,"children":[],"href":"/release/release_0_1_0.html","text":"napari 0.1.0"},"/release/release_0_1_3.html":{"level":2,"children":[],"href":"/release/release_0_1_3.html","text":"napari 0.1.3"},"/release/release_0_1_5.html":{"level":2,"children":[],"href":"/release/release_0_1_5.html","text":"napari 0.1.5"},"/release/release_0_2_0.html":{"level":2,"children":[],"href":"/release/release_0_2_0.html","text":"napari 0.2.0"},"/release/release_0_2_1.html":{"level":2,"children":[],"href":"/release/release_0_2_1.html","text":"napari 0.2.1"},"/release/release_0_2_3.html":{"level":2,"children":[],"href":"/release/release_0_2_3.html","text":"napari 0.2.3"},"/release/release_0_2_4.html":{"level":2,"children":[],"href":"/release/release_0_2_4.html","text":"napari 0.2.4"},"/release/release_0_2_5.html":{"level":2,"children":[],"href":"/release/release_0_2_5.html","text":"napari 0.2.5"},"/release/release_0_2_6.html":{"level":2,"children":[],"href":"/release/release_0_2_6.html","text":"napari 0.2.6"},"/release/release_0_2_7.html":{"level":2,"children":[],"href":"/release/release_0_2_7.html","text":"napari 0.2.7"},"/release/release_0_2_8.html":{"level":2,"children":[],"href":"/release/release_0_2_8.html","text":"napari 0.2.8"},"/release/release_0_2_9.html":{"level":2,"children":[],"href":"/release/release_0_2_9.html","text":"napari 0.2.9"},"/release/release_0_2_10.html":{"level":2,"children":[],"href":"/release/release_0_2_10.html","text":"napari 0.2.10"},"/release/release_0_2_11.html":{"level":2,"children":[],"href":"/release/release_0_2_11.html","text":"napari 0.2.11"},"/release/release_0_2_12.html":{"level":2,"children":[],"href":"/release/release_0_2_12.html","text":"napari 0.2.12"},"/release/release_0_3_0.html":{"level":2,"children":[],"href":"/release/release_0_3_0.html","text":"napari 0.3.0"},"/release/release_0_3_1.html":{"level":2,"children":[],"href":"/release/release_0_3_1.html","text":"napari 0.3.1"},"/release/release_0_3_2.html":{"level":2,"children":[],"href":"/release/release_0_3_2.html","text":"napari 0.3.2"},"/release/release_0_3_3.html":{"level":2,"children":[],"href":"/release/release_0_3_3.html","text":"napari 0.3.3"},"/release/release_0_3_4.html":{"level":2,"children":[],"href":"/release/release_0_3_4.html","text":"napari 0.3.4"},"/release/release_0_3_5.html":{"level":2,"children":[],"href":"/release/release_0_3_5.html","text":"napari 0.3.5"},"/release/release_0_3_6.html":{"level":2,"children":[],"href":"/release/release_0_3_6.html","text":"napari 0.3.6"},"/release/release_0_3_7.html":{"level":2,"children":[],"href":"/release/release_0_3_7.html","text":"napari 0.3.7"},"/release/release_0_3_8.html":{"level":2,"children":[],"href":"/release/release_0_3_8.html","text":"napari 0.3.8"},"/release/release_0_4_0.html":{"level":2,"children":[],"href":"/release/release_0_4_0.html","text":"napari 0.4.0"},"/release/release_0_4_1.html":{"level":2,"children":[],"href":"/release/release_0_4_1.html","text":"napari 0.4.1"},"/release/release_0_4_2.html":{"level":2,"children":[],"href":"/release/release_0_4_2.html","text":"napari 0.4.2"},"/release/release_0_4_3.html":{"level":2,"children":[],"href":"/release/release_0_4_3.html","text":"napari 0.4.3"},"/release/release_0_4_4.html":{"level":2,"children":[],"href":"/release/release_0_4_4.html","text":"napari 0.4.4"},"/release/release_0_4_5.html":{"level":2,"children":[],"href":"/release/release_0_4_5.html","text":"napari 0.4.5"},"/release/release_0_4_6.html":{"level":2,"children":[],"href":"/release/release_0_4_6.html","text":"napari 0.4.6"},"/release/release_0_4_7.html":{"level":2,"children":[],"href":"/release/release_0_4_7.html","text":"napari 0.4.7"},"/release/release_0_4_8.html":{"level":2,"children":[],"href":"/release/release_0_4_8.html","text":"napari 0.4.8"},"/release/release_0_4_9.html":{"level":2,"children":[],"href":"/release/release_0_4_9.html","text":"napari 0.4.9"},"/release/release_0_4_10.html":{"level":2,"children":[],"href":"/release/release_0_4_10.html","text":"napari 0.4.10"},"/plugins/stable/index.html":{"level":1,"children":["/plugins/stable/for_napari_developers.html","/plugins/stable/for_plugin_developers.html","/plugins/stable/hook_specifications.html","/plugins/stable/find-and-install-plugin.html"],"href":"/plugins/stable/index.html","text":"Plugins"},"/plugins/stable/find-and-install-plugin.html":{"level":2,"children":[],"href":"/plugins/stable/find-and-install-plugin.html","text":"Finding and installing a napari plugin"},"/plugins/stable/hook_specifications.html":{"level":2,"children":[],"href":"/plugins/stable/hook_specifications.html","text":"napari hook specification reference"},"/plugins/stable/for_plugin_developers.html":{"level":2,"children":[],"href":"/plugins/stable/for_plugin_developers.html","text":"creating a napari plugin"},"/plugins/stable/for_napari_developers.html":{"level":2,"children":[],"href":"/plugins/stable/for_napari_developers.html","text":"napari plugin architecture"},"/tutorials/index.html":{"level":1,"children":["/tutorials/fundamentals/index.html","/tutorials/applications/index.html"],"href":"/tutorials/index.html","text":"Tutorials"},"/tutorials/applications/index.html":{"level":2,"children":["/tutorials/applications/annotate_segmentation.html","/tutorials/applications/annotate_points.html","/tutorials/applications/dask.html","/tutorials/applications/napari_imageJ.html","/tutorials/applications/cell_tracking.html"],"href":"/tutorials/applications/index.html","text":"Applications"},"/tutorials/applications/cell_tracking.html":{"level":3,"children":[],"href":"/tutorials/applications/cell_tracking.html","text":"single cell tracking with napari"},"/tutorials/applications/napari_imageJ.html":{"level":3,"children":[],"href":"/tutorials/applications/napari_imageJ.html","text":"Napari + ImageJ How-to-Guide"},"/tutorials/applications/dask.html":{"level":3,"children":[],"href":"/tutorials/applications/dask.html","text":"using dask and napari to process \u0026 view large datasets"},"/tutorials/applications/annotate_points.html":{"level":3,"children":[],"href":"/tutorials/applications/annotate_points.html","text":"annotating videos with napari"},"/tutorials/applications/annotate_segmentation.html":{"level":3,"children":[],"href":"/tutorials/applications/annotate_segmentation.html","text":"annotating segmentation with text and bounding boxes"},"/tutorials/fundamentals/index.html":{"level":2,"children":["/tutorials/fundamentals/installation.html","/tutorials/fundamentals/getting_started.html","/tutorials/fundamentals/viewer.html","/tutorials/fundamentals/image.html","/tutorials/fundamentals/labels.html","/tutorials/fundamentals/points.html","/tutorials/fundamentals/shapes.html","/tutorials/fundamentals/surface.html","/tutorials/fundamentals/tracks.html","/tutorials/fundamentals/vectors.html"],"href":"/tutorials/fundamentals/index.html","text":"Fundamentals"},"/tutorials/fundamentals/vectors.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/vectors.html","text":"vectors layer tutorial"},"/tutorials/fundamentals/tracks.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/tracks.html","text":"tracks layer tutorial"},"/tutorials/fundamentals/surface.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/surface.html","text":"surface layer tutorial"},"/tutorials/fundamentals/shapes.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/shapes.html","text":"shapes layer tutorial"},"/tutorials/fundamentals/points.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/points.html","text":"points layer tutorial"},"/tutorials/fundamentals/labels.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/labels.html","text":"labels layer tutorial"},"/tutorials/fundamentals/image.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/image.html","text":"image layer tutorial"},"/tutorials/fundamentals/viewer.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/viewer.html","text":"napari viewer tutorial"},"/tutorials/fundamentals/getting_started.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/getting_started.html","text":"getting started with napari"},"/tutorials/fundamentals/installation.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/installation.html","text":"napari installation tutorial"},"/community/index.html":{"level":1,"children":["/community/mission_and_values.html","/community/team.html","/community/code_of_conduct.html","/community/code_of_conduct_reporting.html","/community/governance.html"],"href":"/community/index.html","text":"Community"},"/community/governance.html":{"level":2,"children":[],"href":"/community/governance.html","text":"Governance Model"},"/community/code_of_conduct_reporting.html":{"level":2,"children":[],"href":"/community/code_of_conduct_reporting.html","text":"Handling Code of Conduct Reports"},"/community/code_of_conduct.html":{"level":2,"children":[],"href":"/community/code_of_conduct.html","text":"Code of Conduct"},"/community/team.html":{"level":2,"children":[],"href":"/community/team.html","text":"About the Project and Team"},"/community/mission_and_values.html":{"level":2,"children":[],"href":"/community/mission_and_values.html","text":"Mission and Values"}},"rootGlobalHeaders":["/community/index.html","/tutorials/index.html","/plugins/stable/index.html","/release/index.html","/api/stable/index.html","/roadmaps/index.html","/guides/stable/index.html","/developers/index.html","https://github.com/napari/napari","https://napari-hub.org"],"pageTitle":"Source code for napari._qt.qthreading","pageFrontMatter":{},"appScripts":[{"src":"/_static/documentation_options.js"},{"src":"/_static/jquery.js"},{"src":"/_static/underscore.js"},{"src":"/_static/doctools.js"},{"src":"/_static/togglebutton.js"},{"src":"/_static/clipboard.min.js"},{"src":"/_static/copybutton.js"},{"children":"var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';"}],"appStyleSheets":[{"href":"/_static/pygments.css","rel":"stylesheet"}],"pageBodyHtml":"\n        \u003cdiv id=\"documentation_options\" data-url_root=\"../../../\"\u003e\u003c/div\u003e\n        \u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003einspect\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etime\u003c/span\u003e\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003ewarnings\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003efunctools\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003epartial\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ewraps\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003etyping\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSequence\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSet\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\n\n\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"nn\"\u003etoolz\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"nn\"\u003etz\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003eqtpy.QtCore\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQObject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQRunnable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQThread\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQThreadPool\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQTimer\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSlot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..utils.translations\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\n\u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e.qprogress\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eas_generator_function\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Turns a regular function (single return) into a generator function.\"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@wraps\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003egenwrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eyield\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003egenwrapper\u003c/span\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBaseSignals\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBaseSignals.html#napari.qt.threading.WorkerBaseSignals\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eWorkerBaseSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eQObject\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003estarted\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted when the work is started\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efinished\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted when the work is finished\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ereturned\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted with return value\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eerrored\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted with error object on Exception\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ewarned\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003etuple\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted with showwarning args on warning\u003c/span\u003e\u003c/div\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBase\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eQRunnable\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Base class for creating a Worker that can run in another thread.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    SignalsClass : type, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        A QObject subclass that contains signals, by default WorkerBaseSignals\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Attributes\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    signals: WorkerBaseSignals\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        signal emitter object. To allow identify which worker thread emitted signal.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e#: A set of Workers.  Add to set using :meth:`WorkerBase.start`\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_worker_set\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eSet\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'WorkerBase'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eset\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSignalsClass\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBaseSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBaseSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_abort_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_running\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esignals\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignalsClass\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esignals\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eerrored\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_relay_error\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esignals\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewarned\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_relay_warning\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e_relay_error\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..utils.notifications\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003enotification_manager\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003enotification_manager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereceive_error\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e__traceback__\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e_relay_warning\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eshow_warn_args\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"kn\"\u003efrom\u003c/span\u003e \u003cspan class=\"nn\"\u003e..utils.notifications\u003c/span\u003e \u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"n\"\u003enotification_manager\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003enotification_manager\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereceive_warning\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eshow_warn_args\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__getattr__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Pass through attr requests to signals to simplify connection API.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        The goal is to enable ``worker.yielded.connect`` instead of\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        ``worker.signals.yielded.connect``. Because multiple inheritance of Qt\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        classes is not well supported in PyQt, we have to use composition here\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        (signals are provided by QObjects, and QRunnable is not a QObject). So\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        this passthrough allows us to connect to signals on the ``_signals``\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        object.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# the Signal object is actually a class attribute\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eattr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003egetattr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esignals\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"vm\"\u003e__class__\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eattr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# but what we need to connect to is the instantiated signal\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# (which is of type `SignalInstance` in PySide and\u003c/span\u003e\n            \u003cspan class=\"c1\"\u003e# `pyqtBoundSignal` in PyQt)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003egetattr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esignals\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"fm\"\u003e__getattr__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBase.quit\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.quit\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003equit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Send a request to abort the worker.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        .. note::\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            It is entirely up to subclasses to honor this method by checking\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            ``self.abort_requested`` periodically in their ``worker.work``\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            method, and exiting if ``True``.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_abort_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003c/div\u003e\n\n    \u003cspan class=\"nd\"\u003e@property\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eabort_requested\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Whether the worker has been requested to stop.\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_abort_requested\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@property\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eis_running\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Whether the worker has been started\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_running\u003c/span\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBase.run\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.run\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"nd\"\u003e@Slot\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Start the worker.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        The end-user should never need to call this function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        But it cannot be made private or renamed, since it is called by Qt.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        The order of method calls when starting a worker is:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        .. code-block:: none\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e           calls QThreadPool.globalInstance().start(worker)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               triggered by the QThreadPool.start() method\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               |             called by worker.run\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               |             |\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           V               V             V\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           worker.start -\u0026gt; worker.run -\u0026gt; worker.work\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        **This** is the function that actually gets called when calling\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        :func:`QThreadPool.start(worker)`.  It simply wraps the :meth:`work`\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        method, and emits a few signals.  Subclasses should NOT override this\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        method (except with good reason), and instead should implement\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        :meth:`work`.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estarted\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_running\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003ewith\u003c/span\u003e \u003cspan class=\"n\"\u003ewarnings\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecatch_warnings\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewarnings\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efilterwarnings\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"always\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ewarnings\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eshowwarning\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003elambda\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003ew\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewarned\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ew\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ework\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ne\"\u003eException\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ne\"\u003eRuntimeError\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e# The Worker object has likely been deleted.\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e# A deleted wrapped C/C++ object may result in a runtime\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e# error that will cause segfault if we try to do much other\u003c/span\u003e\n                    \u003cspan class=\"c1\"\u003e# than simply notify the user.\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003ewarnings\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewarn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                            \u003cspan class=\"s2\"\u003e\"RuntimeError in aborted thread: \u003c/span\u003e\u003cspan class=\"si\"\u003e{result}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                        \u003cspan class=\"ne\"\u003eRuntimeWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"n\"\u003eresult\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eabort_requested\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ereturned\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"ne\"\u003eException\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eerrored\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_running\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003c/div\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBase.work\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.work\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ework\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"ne\"\u003eException\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Main method to execute the worker.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        The end-user should never need to call this function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        But subclasses must implement this method (See\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        :meth:`GeneratorFunction.work` for an example implementation).\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Minimally, it should check ``self.abort_requested`` periodically and\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        exit if True.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        Examples\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        --------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        .. code-block:: python\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            class MyWorker(WorkerBase):\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e                def work(self):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                    i = 0\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                    while True:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                        if self.abort_requested:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                            self.aborted.emit()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                            break\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                        i += 1\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                        if i \u0026gt; max_iters:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                            break\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                        time.sleep(0.5)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eNotImplementedError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"s1\"\u003e'\"\u003c/span\u003e\u003cspan class=\"si\"\u003e{name}\u003c/span\u003e\u003cspan class=\"s1\"\u003e\" failed to define work() method'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ename\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"vm\"\u003e__class__\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"vm\"\u003e__name__\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/div\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"WorkerBase.start\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.WorkerBase.html#napari.qt.threading.WorkerBase.start\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Start this worker in a thread and add it to the global threadpool.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        The order of method calls when starting a worker is:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        .. code-block:: none\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e           calls QThreadPool.globalInstance().start(worker)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               triggered by the QThreadPool.start() method\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               |             called by worker.run\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           |               |             |\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           V               V             V\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e           worker.start -\u0026gt; worker.run -\u0026gt; worker.work\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_set\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eRuntimeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s1\"\u003e'This worker is already started!'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"c1\"\u003e# This will raise a RunTimeError if the worker is already deleted\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003erepr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_set\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elambda\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_set\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ediscard\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"n\"\u003estart_\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epartial\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eQThreadPool\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eglobalInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eQTimer\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esingleShot\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estart_\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"FunctionWorker\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.FunctionWorker.html#napari.qt.threading.FunctionWorker\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFunctionWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"QRunnable with signals that wraps a simple long-running function.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    .. note::\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        ``FunctionWorker`` does not provide a way to stop a very long-running\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        function (e.g. ``time.sleep(10000)``).  So whenever possible, it is\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        better to implement your long running function as a generator that\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        yields periodically, and use the :class:`GeneratorWorker` instead.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    func : Callable\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        A function to call in another thread\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    *args\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to the function\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    **kwargs\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to the function\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Raises\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    TypeError\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If ``func`` is a generator function and not a regular function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003einspect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisgeneratorfunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s2\"\u003e\"Generator function \u003c/span\u003e\u003cspan class=\"si\"\u003e{func}\u003c/span\u003e\u003cspan class=\"s2\"\u003e cannot be used with FunctionWorker, use GeneratorWorker instead\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_func\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_args\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eargs\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_kwargs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"FunctionWorker.work\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.FunctionWorker.html#napari.qt.threading.FunctionWorker.work\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ework\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_func\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_args\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_kwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorkerSignals\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorkerSignals.html#napari.qt.threading.GeneratorWorkerSignals\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGeneratorWorkerSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBaseSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eyielded\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eobject\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted with yielded values (if generator used)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003epaused\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted when a running job has successfully paused\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eresumed\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted when a paused job has successfully resumed\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eaborted\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# emitted when a running job is successfully aborted\u003c/span\u003e\u003c/div\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGeneratorWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"QRunnable with signals that wraps a long-running generator.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Provides a convenient way to run a generator function in another thread,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    while allowing 2-way communication between threads, using plain-python\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    generator syntax in the original function.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    func : callable\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The function being run in another thread.  May be a generator function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    SignalsClass : type, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        A QObject subclass that contains signals, by default\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        GeneratorWorkerSignals\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    *args\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Will be passed to func on instantiation\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    **kwargs\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Will be passed to func on instantiation\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eSignalsClass\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBaseSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGeneratorWorkerSignals\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003einspect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisgeneratorfunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s2\"\u003e\"Regular function \u003c/span\u003e\u003cspan class=\"si\"\u003e{func}\u003c/span\u003e\u003cspan class=\"s2\"\u003e cannot be used with GeneratorWorker, use FunctionWorker instead\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"nb\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"fm\"\u003e__init__\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eSignalsClass\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003eSignalsClass\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_gen\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_incoming_value\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_resume_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_paused\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# polling interval: ONLY relevant if the user paused a running worker\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_interval\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.01\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epbar\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker.work\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.work\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ework\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Core event loop that calls the original function.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        Enters a continual loop, yielding and returning from the original\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        function.  Checks for various events (quit, pause, resume, etc...).\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        (To clarify: we are creating a rudimentary event loop here because\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        there IS NO Qt event loop running in the other thread to hook into)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eabort_requested\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eaborted\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ebreak\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_paused\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_resume_requested\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_paused\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n                    \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_resume_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n                    \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eresumed\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_interval\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eelif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_requested\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_paused\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epaused\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n                \u003cspan class=\"k\"\u003econtinue\u003c/span\u003e\n            \u003cspan class=\"k\"\u003etry\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"nb\"\u003einput\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_next_value\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eoutput\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_gen\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eyielded\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eemit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"ne\"\u003eStopIteration\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eexcept\u003c/span\u003e \u003cspan class=\"ne\"\u003eRuntimeError\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e# The worker has probably been deleted.  warning will be\u003c/span\u003e\n                \u003cspan class=\"c1\"\u003e# emitted in ``WorkerBase.run``\u003c/span\u003e\n                \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eexc\u003c/span\u003e\u003c/div\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker.send\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.send\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Send a value into the function (if a generator was used).\"\"\"\u003c/span\u003e\n        \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_incoming_value\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003evalue\u003c/span\u003e\u003c/div\u003e\n\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e_next_value\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eout\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_incoming_value\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eout\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_incoming_value\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_incoming_value\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eout\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@property\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eis_paused\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Whether the worker is currently paused.\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_paused\u003c/span\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker.toggle_pause\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.toggle_pause\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003etoggle_pause\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Request to pause the worker if playing or resume if paused.\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eis_paused\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_resume_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003c/div\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker.pause\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.pause\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003epause\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Request to pause the worker.\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eis_paused\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_pause_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003c/div\u003e\n\n\u003cdiv class=\"viewcode-block\" id=\"GeneratorWorker.resume\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.GeneratorWorker.html#napari.qt.threading.GeneratorWorker.resume\"\u003e[docs]\u003c/a\u003e    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eresume\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"sd\"\u003e\"\"\"Send a request to resume the worker.\"\"\"\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eis_paused\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"bp\"\u003eself\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_resume_requested\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\n\n\u003cspan class=\"c1\"\u003e############################################################################\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# public API\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# For now, the next three functions simply wrap the QThreadPool API, and allow\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# us to track and cleanup all workers that were started with ``start_worker``,\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# provided that ``wait_for_workers_to_quit`` is called at shutdown.\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# In the future, this could wrap any API, or a pure python threadpool.\u003c/span\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"set_max_thread_count\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.html#napari.qt.threading.set_max_thread_count\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eset_max_thread_count\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Set the maximum number of threads used by the thread pool.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Note: The thread pool will always use at least 1 thread, even if\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    maxThreadCount limit is zero or negative.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eQThreadPool\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eglobalInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003esetMaxThreadCount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003c/div\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ewait_for_workers_to_quit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emsecs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Ask all workers to quit, and wait up to `msec` for quit.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Attempts to clean up all running workers by calling ``worker.quit()``\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    method.  Any workers in the ``WorkerBase._worker_set`` set will have this\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    method.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    By default, this function will block indefinitely, until worker threads\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    finish.  If a timeout is provided, a ``RuntimeError`` will be raised if\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    the workers do not gracefully exit in the time requests, but the threads\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    will NOT be killed.  It is (currently) left to the user to use their OS\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    to force-quit rogue threads.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    .. important::\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        If the user does not put any yields in their function, and the function\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        is super long, it will just hang... For instance, there's no graceful\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        way to kill this thread in python:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        .. code-block:: python\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            @thread_worker\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            def ZZZzzz():\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                time.sleep(10000000)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        This is why it's always advisable to use a generator that periodically\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        yields for long-running computations in another thread.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        See `this stack-overflow post\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \u0026lt;https://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread\u0026gt;`_\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        for a good discussion on the difficulty of killing a rogue python thread:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    msecs : int, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Waits up to msecs milliseconds for all threads to exit and removes all\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        threads from the thread pool. If msecs is `None` (the default), the\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        timeout is ignored (waits for the last thread to exit).\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Raises\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    RuntimeError\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If a timeout is provided and workers do not quit successfully within\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        the time allotted.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003eworker\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_set\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003equit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003emsecs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emsecs\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003emsecs\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003eQThreadPool\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eglobalInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitForDone\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emsecs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eRuntimeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"s2\"\u003e\"Workers did not quit gracefully in the time allotted (\u003c/span\u003e\u003cspan class=\"si\"\u003e{msecs}\u003c/span\u003e\u003cspan class=\"s2\"\u003e ms)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003emsecs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003emsecs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"active_thread_count\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.html#napari.qt.threading.active_thread_count\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eactive_thread_count\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Return the number of active threads in the global ThreadPool.\"\"\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eQThreadPool\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eglobalInstance\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eactiveThreadCount\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003c/div\u003e\n\n\n\u003cspan class=\"c1\"\u003e#############################################################################\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# convenience functions for creating Worker instances\u003c/span\u003e\n\n\n\u003cdiv class=\"viewcode-block\" id=\"create_worker\"\u003e\u003ca class=\"viewcode-back\" href=\"../../../api/stable/napari.qt.threading.html#napari.qt.threading.create_worker\"\u003e[docs]\u003c/a\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreate_worker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSequence\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e]]]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_progress\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e]]]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_ignore_errors\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Convenience function to start a function in another thread.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    By default, uses :class:`Worker`, but a custom ``WorkerBase`` subclass may\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    be provided.  If so, it must be a subclass of :class:`Worker`, which\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    defines a standard set of signals and a run method.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    func : Callable\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The function to call in another thread.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _start_thread : bool, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Whether to immediaetly start the thread.  If False, the returned worker\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        must be manually started with ``worker.start()``. by default it will be\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        ``False`` if the ``_connect`` argument is ``None``, otherwise ``True``.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _connect : Dict[str, Union[Callable, Sequence]], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        A mapping of ``\"signal_name\"`` -\u0026gt; ``callable`` or list of ``callable``:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        callback functions to connect to the various signals offered by the\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        worker class. by default None\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _progress : Union[bool, Dict[str, Union[int, bool, str]]], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Can be True, to provide indeterminate progress bar, or dictionary.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If dict, requires mapping of 'total' to number of expected yields.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If total is not provided, progress bar will be indeterminate. Will connect\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        progress bar update to yields and display this progress in the viewer.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Can also take a mapping of 'desc' to the progress bar description.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Progress bar will become indeterminate when number of yields exceeds 'total'.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        By default None.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _worker_class : Type[WorkerBase], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The :class`WorkerBase` to instantiate, by default\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        :class:`FunctionWorker` will be used if ``func`` is a regular function,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        and :class:`GeneratorWorker` will be used if it is a generator.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _ignore_errors : bool, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If ``False`` (the default), errors raised in the other thread will be\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        reraised in the main thread (makes debugging significantly easier).\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    *args\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to ``func``\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    **kwargs\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to ``func``\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Returns\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    -------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    worker : WorkerBase\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        An instantiated worker.  If ``_start_thread`` was ``False``, the worker\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will have a `.start()` method that can be used to start the thread.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Raises\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    TypeError\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If a worker_class is provided that is not a subclass of WorkerBase.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    TypeError\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If _connect is provided and is not a dict of ``{str: callable}``\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    TypeError\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If _progress is provided and function is not a generator\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Examples\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    --------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    .. code-block:: python\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        def long_function(duration):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            import time\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            time.sleep(duration)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        worker = create_worker(long_function, 10)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003einspect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisgeneratorfunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eGeneratorWorker\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFunctionWorker\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"n\"\u003einspect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eisclass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"nb\"\u003eissubclass\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"s1\"\u003e'Worker \u003c/span\u003e\u003cspan class=\"si\"\u003e{_worker_class}\u003c/span\u003e\u003cspan class=\"s1\"\u003e must be a subclass of WorkerBase'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003eworker\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_worker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunc\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s2\"\u003e\"The '_connect' argument must be a dict\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e \u003cspan class=\"ow\"\u003eis\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_val\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003etuple\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003elist\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ev\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003e_val\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003ecallable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ev\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n                    \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                        \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                            \u003cspan class=\"s1\"\u003e'\"_connect[\u003c/span\u003e\u003cspan class=\"si\"\u003e{key!r}\u003c/span\u003e\u003cspan class=\"s1\"\u003e]\" must be a function or sequence of functions'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                            \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"nb\"\u003egetattr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ev\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# either True or a non-empty dictionary\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_progress\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_progress\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003e_progress\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003edesc\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_progress\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'desc'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003etotal\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003e_progress\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'total'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eFunctionWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"n\"\u003etotal\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"n\"\u003ewarnings\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ewarn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                    \u003cspan class=\"s2\"\u003e\"_progress total != 0 but worker is FunctionWorker and will not yield. Returning indeterminate progress bar...\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                    \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n                \u003cspan class=\"ne\"\u003eRuntimeWarning\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etotal\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003epbar\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etotal\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003etotal\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edesc\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"n\"\u003edesc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epbar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eclose\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003etotal\u003c/span\u003e \u003cspan class=\"o\"\u003e!=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eGeneratorWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eyielded\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003epbar\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eincrement_with_overflow\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epbar\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003epbar\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e# if the user has not provided a default connection for the \"errored\"\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# signal... and they have not explicitly set ``ignore_errors=True``\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# Then rereaise any errors from the thread.\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"n\"\u003e_ignore_errors\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_connect\u003c/span\u003e \u003cspan class=\"ow\"\u003eor\u003c/span\u003e \u003cspan class=\"p\"\u003e{})\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'errored'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ereraise\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n            \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\n\n        \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eerrored\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ereraise\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003c/div\u003e\n\n\n\u003cspan class=\"nd\"\u003e@tz\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecurry\u003c/span\u003e\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003ethread_worker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003estart_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eSequence\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e]]]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUnion\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003eint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e]]]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eworker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eOptional\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eWorkerBase\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eignore_errors\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"Decorator that runs a function in a separate thread when called.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    When called, the decorated function returns a :class:`WorkerBase`.  See\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    :func:`create_worker` for additional keyword arguments that can be used\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    when calling the function.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    The returned worker will have these signals:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        - *started*: emitted when the work is started\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *finished*: emitted when the work is finished\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *returned*: emitted with return value\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *errored*: emitted with error object on Exception\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    It will also have a ``worker.start()`` method that can be used to start\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    execution of the function in another thread. (useful if you need to connect\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    callbacks to signals prior to execution)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    If the decorated function is a generator, the returned worker will also\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    provide these signals:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        - *yielded*: emitted with yielded values\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *paused*: emitted when a running job has successfully paused\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *resumed*: emitted when a paused job has successfully resumed\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *aborted*: emitted when a running job is successfully aborted\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    And these methods:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        - *quit*: ask the thread to quit\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *toggle_paused*: toggle the running state of the thread.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        - *send*: send a value into the generator.  (This requires that your\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e          decorator function uses the ``value = yield`` syntax)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    function : callable\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Function to call in another thread.  For communication between threads\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        may be a generator function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    start_thread : bool, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Whether to immediaetly start the thread.  If False, the returned worker\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        must be manually started with ``worker.start()``. by default it will be\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        ``False`` if the ``_connect`` argument is ``None``, otherwise ``True``.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    connect : Dict[str, Union[Callable, Sequence]], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        A mapping of ``\"signal_name\"`` -\u0026gt; ``callable`` or list of ``callable``:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        callback functions to connect to the various signals offered by the\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        worker class. by default None\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    progress : Union[bool, Dict[str, Union[int, bool, str]]], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Can be True, to provide indeterminate progress bar, or dictionary.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If dict, requires mapping of 'total' to number of expected yields.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If total is not provided, progress bar will be indeterminate. Will connect\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        progress bar update to yields and display this progress in the viewer.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Can also take a mapping of 'desc' to the progress bar description.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Progress bar will become indeterminate when number of yields exceeds 'total'.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        By default None. Must be used in conjunction with a generator function.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    worker_class : Type[WorkerBase], optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The :class`WorkerBase` to instantiate, by default\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        :class:`FunctionWorker` will be used if ``func`` is a regular function,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        and :class:`GeneratorWorker` will be used if it is a generator.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ignore_errors : bool, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If ``False`` (the default), errors raised in the other thread will be\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        reraised in the main thread (makes debugging significantly easier).\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Returns\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    -------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    callable\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        function that creates a worker, puts it in a new thread and returns\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        the worker instance.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Examples\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    --------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    .. code-block:: python\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        @thread_worker\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        def long_function(start, end):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            # do work, periodically yielding\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            i = start\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            while i \u0026lt;= end:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                time.sleep(0.1)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                yield i\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            # do teardown\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            return 'anything'\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        # call the function to start running in another thread.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        worker = long_function()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        # connect signals here if desired... or they may be added using the\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        # `connect` argument in the `@thread_worker` decorator... in which\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        # case the worker will start immediately when long_function() is called\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        worker.start()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"nd\"\u003e@wraps\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003eworker_function\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# decorator kwargs can be overridden at call time by using the\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e# underscore-prefixed version of the kwarg.\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_start_thread'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_start_thread'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estart_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_connect'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_connect'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_progress'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_progress'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eprogress\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_worker_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_worker_class'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eworker_class\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_ignore_errors'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_ignore_errors'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eignore_errors\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003ecreate_worker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eworker_function\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e############################################################################\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e# This is a variant on the above pattern, it uses QThread instead of Qrunnable\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# see https://doc.qt.io/qt-5/threads-technologies.html#comparison-of-solutions\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# (it appears from that table that QRunnable cannot emit or receive signals,\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# but we circumvent that here with our WorkerBase class that also inherits from\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# QObject... providing signals/slots).\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# A benefit of the QRunnable pattern is that Qt manages the threads for you,\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# in the QThreadPool.globalInstance() ... making it easier to reuse threads,\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# and reduce overhead.\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# However, a disadvantage is that you have no access to (and therefore less\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# control over) the QThread itself.  See for example all of the methods\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# provided on the QThread object: https://doc.qt.io/qt-5/qthread.html\u003c/span\u003e\n\n\n\u003cspan class=\"c1\"\u003e# TODO: potentially remove this altogether, by refactoring the dims\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# AnimationWorker to subclass WorkerBase\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003e_new_worker_qthread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eQObject\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003ebool\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eFalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eDict\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eCallable\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003eNone\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n    \u003cspan class=\"sd\"\u003e\"\"\"This is a convenience function to start a worker in a Qthread.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    In most cases, the @thread_worker decorator is sufficient and preferable.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    But this allows the user to completely customize the Worker object.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    However, they must then maintain control over the thread and clean up\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    appropriately.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    It follows the pattern described here:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    https://www.qt.io/blog/2010/06/17/youre-doing-it-wrong\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    and\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    https://doc.qt.io/qt-5/qthread.html#details\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    see also:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    https://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    A QThread object is not a thread! It should be thought of as a class to\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    *manage* a thread, not as the actual code or object that runs in that\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    thread.  The QThread object is created on the main thread and lives there.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Worker objects which derive from QObject are the things that actually do\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    the work. They can be moved to a QThread as is done here.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    .. note:: Mostly ignorable detail\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        While the signals/slots syntax of the worker looks very similar to\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        standard \"single-threaded\" signals \u0026amp; slots, note that inter-thread\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        signals and slots (automatically) use an event-based QueuedConnection,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        while intra-thread signals use a DirectConnection. See `Signals and\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Slots Across Threads\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        \u0026lt;https://doc.qt.io/qt-5/threads-qobject.html#signals-and-slots-across-threads\u0026gt;`_\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Parameters\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    ----------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    Worker : QObject\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        QObject type that implements a work() method.  The Worker should also\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        emit a finished signal when the work is done.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _start_thread : bool\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        If True, thread will be started immediately, otherwise, thread must\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        be manually started with thread.start().\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    _connect : dict, optional\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        Optional dictionary of {signal: function} to connect to the new worker.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        for instance:  connections = {'incremented': myfunc} will result in:\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        worker.incremented.connect(myfunc)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    *args\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to the Worker class on instantiation.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    **kwargs\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        will be passed to the Worker class on instantiation.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Returns\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    -------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    worker : WorkerBase\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The created worker.\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    thread : QThread\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        The thread on which the worker is running.\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    Examples\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    --------\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e    Create some QObject that has a long-running work method:\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    .. code-block:: python\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        class Worker(QObject):\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            finished = Signal()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            increment = Signal(int)\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            def __init__(self, argument):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                super().__init__()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                self.argument = argument\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e            @Slot()\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            def work(self):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                # some long running task...\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                import time\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                for i in range(10):\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                    time.sleep(1)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                    self.increment.emit(i)\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e                self.finished.emit()\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e        worker, thread = _new_worker_qthread(\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            Worker,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            'argument',\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            start_thread=True,\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e            connections={'increment': print},\u003c/span\u003e\n\u003cspan class=\"sd\"\u003e        )\u003c/span\u003e\n\n\u003cspan class=\"sd\"\u003e    \"\"\"\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e \u003cspan class=\"ow\"\u003eand\u003c/span\u003e \u003cspan class=\"ow\"\u003enot\u003c/span\u003e \u003cspan class=\"nb\"\u003eisinstance\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nb\"\u003edict\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e\n        \u003cspan class=\"k\"\u003eraise\u003c/span\u003e \u003cspan class=\"ne\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"n\"\u003etrans\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'_connect parameter must be a dict'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003edeferred\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"kc\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003ethread\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eQThread\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eworker\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWorker\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003eargs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e**\u003c/span\u003e\u003cspan class=\"n\"\u003ekwargs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003emoveToThread\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estarted\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ework\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003equit\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edeleteLater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003efinished\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edeleteLater\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003egetattr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eval\u003c/span\u003e \u003cspan class=\"ow\"\u003ein\u003c/span\u003e \u003cspan class=\"n\"\u003e_connect\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e()]\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003e_start_thread\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"n\"\u003ethread\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003estart\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e  \u003cspan class=\"c1\"\u003e# sometimes need to connect stuff before starting\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eworker\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ethread\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n      ","pageHeaders":[]}},"__N_SSG":true},"page":"/[[...parts]]","query":{"parts":["_modules","napari","_qt","qthreading.html"]},"buildId":"_ZQ7jmqBSreuANGNF4wXy","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>