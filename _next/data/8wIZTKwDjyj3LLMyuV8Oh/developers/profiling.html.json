{"pageProps":{"state":{"globalHeaders":{"https://napari-hub.org":{"level":1,"children":[],"href":"https://napari-hub.org","text":"napari hub"},"https://github.com/napari/napari":{"level":1,"children":[],"href":"https://github.com/napari/napari","text":"napari source code"},"/developers/index.html":{"level":1,"children":["/developers/benchmarks.html","/developers/contributing.html","/developers/core_dev_guide.html","/developers/profiling.html","/developers/release.html","/developers/testing.html","/developers/docs.html"],"href":"/developers/index.html","text":"Developer resources"},"/developers/docs.html":{"level":2,"children":[],"href":"/developers/docs.html","text":"Organization of Documentation for napari"},"/developers/testing.html":{"level":2,"children":[],"href":"/developers/testing.html","text":"Testing"},"/developers/release.html":{"level":2,"children":[],"href":"/developers/release.html","text":"Release Guide"},"/developers/profiling.html":{"level":2,"children":[],"href":"/developers/profiling.html","text":"Profiling"},"/developers/core_dev_guide.html":{"level":2,"children":[],"href":"/developers/core_dev_guide.html","text":"Core Developer Guide"},"/developers/contributing.html":{"level":2,"children":[],"href":"/developers/contributing.html","text":"Contributing Guide"},"/developers/benchmarks.html":{"level":2,"children":[],"href":"/developers/benchmarks.html","text":"Benchmarks"},"/guides/stable/index.html":{"level":1,"children":["/guides/stable/event_loop.html","/guides/stable/threading.html","/guides/stable/perfmon.html","/guides/stable/rendering.html","/guides/stable/docker.html","/guides/stable/performance.html","/guides/stable/magicgui.html","/guides/stable/translations.html","/guides/stable/rendering-explanation.html","/guides/stable/connecting_events.html","/guides/stable/connecting_events.html#long-running-blocking-functions","/guides/stable/3D_interactivity.html"],"href":"/guides/stable/index.html","text":"Developer guides"},"/guides/stable/3D_interactivity.html":{"level":2,"children":[],"href":"/guides/stable/3D_interactivity.html","text":"3D interactivity"},"/guides/stable/connecting_events.html#long-running-blocking-functions":{"level":2,"children":[],"href":"/guides/stable/connecting_events.html#long-running-blocking-functions","text":"Long-running, blocking functions"},"/guides/stable/connecting_events.html":{"level":2,"children":[],"href":"/guides/stable/connecting_events.html","text":"Hooking up your own events"},"/guides/stable/rendering-explanation.html":{"level":2,"children":[],"href":"/guides/stable/rendering-explanation.html","text":"Rendering in napari"},"/guides/stable/translations.html":{"level":2,"children":[],"href":"/guides/stable/translations.html","text":"Translations"},"/guides/stable/magicgui.html":{"level":2,"children":[],"href":"/guides/stable/magicgui.html","text":"Using magicgui in napari"},"/guides/stable/performance.html":{"level":2,"children":[],"href":"/guides/stable/performance.html","text":"Napari Performance"},"/guides/stable/docker.html":{"level":2,"children":[],"href":"/guides/stable/docker.html","text":"Napari in Docker (WIP)"},"/guides/stable/rendering.html":{"level":2,"children":[],"href":"/guides/stable/rendering.html","text":"Asynchronous Rendering"},"/guides/stable/perfmon.html":{"level":2,"children":[],"href":"/guides/stable/perfmon.html","text":"Performance Monitoring"},"/guides/stable/threading.html":{"level":2,"children":[],"href":"/guides/stable/threading.html","text":"Multithreading in napari"},"/guides/stable/event_loop.html":{"level":2,"children":[],"href":"/guides/stable/event_loop.html","text":"An Introduction to the Event Loop in napari"},"/roadmaps/index.html":{"level":1,"children":["/roadmaps/0_4.html","/roadmaps/0_3_retrospective.html","/roadmaps/0_3.html"],"href":"/roadmaps/index.html","text":"Roadmaps"},"/roadmaps/0_3.html":{"level":2,"children":[],"href":"/roadmaps/0_3.html","text":"Roadmap 0.3"},"/roadmaps/0_3_retrospective.html":{"level":2,"children":[],"href":"/roadmaps/0_3_retrospective.html","text":"Roadmap 0.3 Retrospective"},"/roadmaps/0_4.html":{"level":2,"children":[],"href":"/roadmaps/0_4.html","text":"Roadmap 0.4"},"/api/stable/index.html":{"level":1,"children":["/api/stable/napari.layers.html","/api/stable/napari.view_layers.html","/api/stable/napari.types.html","/api/stable/napari.utils.html","/api/stable/napari.plugins.html","/api/stable/napari.components.html","/api/stable/napari.qt.threading.html","/api/stable/napari.utils.perf.html","/api/stable/napari.html"],"href":"/api/stable/index.html","text":"API reference"},"/api/stable/napari.html":{"level":2,"children":["/api/stable/napari.Viewer.html"],"href":"/api/stable/napari.html","text":"napari"},"/api/stable/napari.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.Viewer.html","text":"napari.Viewer"},"/api/stable/napari.utils.perf.html":{"level":2,"children":["/api/stable/napari.utils.perf.PerfEvent.html"],"href":"/api/stable/napari.utils.perf.html","text":"napari.utils.perf"},"/api/stable/napari.utils.perf.PerfEvent.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.perf.PerfEvent.html","text":"napari.utils.perf.PerfEvent"},"/api/stable/napari.qt.threading.html":{"level":2,"children":["/api/stable/napari.qt.threading.FunctionWorker.html","/api/stable/napari.qt.threading.GeneratorWorker.html","/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","/api/stable/napari.qt.threading.WorkerBase.html","/api/stable/napari.qt.threading.WorkerBaseSignals.html"],"href":"/api/stable/napari.qt.threading.html","text":"napari.qt.threading"},"/api/stable/napari.qt.threading.WorkerBaseSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBaseSignals.html","text":"napari.qt.threading.WorkerBaseSignals"},"/api/stable/napari.qt.threading.WorkerBase.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.WorkerBase.html","text":"napari.qt.threading.WorkerBase"},"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorkerSignals.html","text":"napari.qt.threading.GeneratorWorkerSignals"},"/api/stable/napari.qt.threading.GeneratorWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.GeneratorWorker.html","text":"napari.qt.threading.GeneratorWorker"},"/api/stable/napari.qt.threading.FunctionWorker.html":{"level":3,"children":[],"href":"/api/stable/napari.qt.threading.FunctionWorker.html","text":"napari.qt.threading.FunctionWorker"},"/api/stable/napari.components.html":{"level":2,"children":["/api/stable/napari.components.Camera.html","/api/stable/napari.components.Dims.html","/api/stable/napari.components.LayerList.html","/api/stable/napari.components.ViewerModel.html"],"href":"/api/stable/napari.components.html","text":"napari.components"},"/api/stable/napari.components.ViewerModel.html":{"level":3,"children":[],"href":"/api/stable/napari.components.ViewerModel.html","text":"napari.components.ViewerModel"},"/api/stable/napari.components.LayerList.html":{"level":3,"children":[],"href":"/api/stable/napari.components.LayerList.html","text":"napari.components.LayerList"},"/api/stable/napari.components.Dims.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Dims.html","text":"napari.components.Dims"},"/api/stable/napari.components.Camera.html":{"level":3,"children":[],"href":"/api/stable/napari.components.Camera.html","text":"napari.components.Camera"},"/api/stable/napari.plugins.html":{"level":2,"children":["/api/stable/napari.plugins.NapariPluginManager.html"],"href":"/api/stable/napari.plugins.html","text":"napari.plugins"},"/api/stable/napari.plugins.NapariPluginManager.html":{"level":3,"children":[],"href":"/api/stable/napari.plugins.NapariPluginManager.html","text":"napari.plugins.NapariPluginManager"},"/api/stable/napari.utils.html":{"level":2,"children":["/api/stable/napari.utils.Colormap.html","/api/stable/napari.utils.nbscreenshot.html"],"href":"/api/stable/napari.utils.html","text":"napari.utils"},"/api/stable/napari.utils.nbscreenshot.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.nbscreenshot.html","text":"napari.utils.nbscreenshot"},"/api/stable/napari.utils.Colormap.html":{"level":3,"children":[],"href":"/api/stable/napari.utils.Colormap.html","text":"napari.utils.Colormap"},"/api/stable/napari.types.html":{"level":2,"children":["/api/stable/napari.types.ArrayBase.html","/api/stable/napari.types.Path.html","/api/stable/napari.types.SampleDict.html","/api/stable/napari.types.TracebackType.html","/api/stable/napari.types.TypedDict.html"],"href":"/api/stable/napari.types.html","text":"napari.types"},"/api/stable/napari.types.TypedDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TypedDict.html","text":"napari.types.TypedDict"},"/api/stable/napari.types.TracebackType.html":{"level":3,"children":[],"href":"/api/stable/napari.types.TracebackType.html","text":"napari.types.TracebackType"},"/api/stable/napari.types.SampleDict.html":{"level":3,"children":[],"href":"/api/stable/napari.types.SampleDict.html","text":"napari.types.SampleDict"},"/api/stable/napari.types.Path.html":{"level":3,"children":[],"href":"/api/stable/napari.types.Path.html","text":"napari.types.Path"},"/api/stable/napari.types.ArrayBase.html":{"level":3,"children":[],"href":"/api/stable/napari.types.ArrayBase.html","text":"napari.types.ArrayBase"},"/api/stable/napari.view_layers.html":{"level":2,"children":["/api/stable/napari.view_layers.Viewer.html"],"href":"/api/stable/napari.view_layers.html","text":"napari.view_layers"},"/api/stable/napari.view_layers.Viewer.html":{"level":3,"children":[],"href":"/api/stable/napari.view_layers.Viewer.html","text":"napari.view_layers.Viewer"},"/api/stable/napari.layers.html":{"level":2,"children":["/api/stable/napari.layers.Image.html","/api/stable/napari.layers.Labels.html","/api/stable/napari.layers.Layer.html","/api/stable/napari.layers.Points.html","/api/stable/napari.layers.Shapes.html","/api/stable/napari.layers.Surface.html","/api/stable/napari.layers.Tracks.html","/api/stable/napari.layers.Vectors.html"],"href":"/api/stable/napari.layers.html","text":"napari.layers"},"/api/stable/napari.layers.Vectors.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Vectors.html","text":"napari.layers.Vectors"},"/api/stable/napari.layers.Tracks.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Tracks.html","text":"napari.layers.Tracks"},"/api/stable/napari.layers.Surface.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Surface.html","text":"napari.layers.Surface"},"/api/stable/napari.layers.Shapes.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Shapes.html","text":"napari.layers.Shapes"},"/api/stable/napari.layers.Points.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Points.html","text":"napari.layers.Points"},"/api/stable/napari.layers.Layer.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Layer.html","text":"napari.layers.Layer"},"/api/stable/napari.layers.Labels.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Labels.html","text":"napari.layers.Labels"},"/api/stable/napari.layers.Image.html":{"level":3,"children":[],"href":"/api/stable/napari.layers.Image.html","text":"napari.layers.Image"},"/release/index.html":{"level":1,"children":["/release/release_0_4_10.html","/release/release_0_4_9.html","/release/release_0_4_8.html","/release/release_0_4_7.html","/release/release_0_4_6.html","/release/release_0_4_5.html","/release/release_0_4_4.html","/release/release_0_4_3.html","/release/release_0_4_2.html","/release/release_0_4_1.html","/release/release_0_4_0.html","/release/release_0_3_8.html","/release/release_0_3_7.html","/release/release_0_3_6.html","/release/release_0_3_5.html","/release/release_0_3_4.html","/release/release_0_3_3.html","/release/release_0_3_2.html","/release/release_0_3_1.html","/release/release_0_3_0.html","/release/release_0_2_12.html","/release/release_0_2_11.html","/release/release_0_2_10.html","/release/release_0_2_9.html","/release/release_0_2_8.html","/release/release_0_2_7.html","/release/release_0_2_6.html","/release/release_0_2_5.html","/release/release_0_2_4.html","/release/release_0_2_3.html","/release/release_0_2_1.html","/release/release_0_2_0.html","/release/release_0_1_5.html","/release/release_0_1_3.html","/release/release_0_1_0.html","/release/release_0_4_11.html"],"href":"/release/index.html","text":"Release notes"},"/release/release_0_4_11.html":{"level":2,"children":[],"href":"/release/release_0_4_11.html","text":"napari 0.4.11"},"/release/release_0_1_0.html":{"level":2,"children":[],"href":"/release/release_0_1_0.html","text":"napari 0.1.0"},"/release/release_0_1_3.html":{"level":2,"children":[],"href":"/release/release_0_1_3.html","text":"napari 0.1.3"},"/release/release_0_1_5.html":{"level":2,"children":[],"href":"/release/release_0_1_5.html","text":"napari 0.1.5"},"/release/release_0_2_0.html":{"level":2,"children":[],"href":"/release/release_0_2_0.html","text":"napari 0.2.0"},"/release/release_0_2_1.html":{"level":2,"children":[],"href":"/release/release_0_2_1.html","text":"napari 0.2.1"},"/release/release_0_2_3.html":{"level":2,"children":[],"href":"/release/release_0_2_3.html","text":"napari 0.2.3"},"/release/release_0_2_4.html":{"level":2,"children":[],"href":"/release/release_0_2_4.html","text":"napari 0.2.4"},"/release/release_0_2_5.html":{"level":2,"children":[],"href":"/release/release_0_2_5.html","text":"napari 0.2.5"},"/release/release_0_2_6.html":{"level":2,"children":[],"href":"/release/release_0_2_6.html","text":"napari 0.2.6"},"/release/release_0_2_7.html":{"level":2,"children":[],"href":"/release/release_0_2_7.html","text":"napari 0.2.7"},"/release/release_0_2_8.html":{"level":2,"children":[],"href":"/release/release_0_2_8.html","text":"napari 0.2.8"},"/release/release_0_2_9.html":{"level":2,"children":[],"href":"/release/release_0_2_9.html","text":"napari 0.2.9"},"/release/release_0_2_10.html":{"level":2,"children":[],"href":"/release/release_0_2_10.html","text":"napari 0.2.10"},"/release/release_0_2_11.html":{"level":2,"children":[],"href":"/release/release_0_2_11.html","text":"napari 0.2.11"},"/release/release_0_2_12.html":{"level":2,"children":[],"href":"/release/release_0_2_12.html","text":"napari 0.2.12"},"/release/release_0_3_0.html":{"level":2,"children":[],"href":"/release/release_0_3_0.html","text":"napari 0.3.0"},"/release/release_0_3_1.html":{"level":2,"children":[],"href":"/release/release_0_3_1.html","text":"napari 0.3.1"},"/release/release_0_3_2.html":{"level":2,"children":[],"href":"/release/release_0_3_2.html","text":"napari 0.3.2"},"/release/release_0_3_3.html":{"level":2,"children":[],"href":"/release/release_0_3_3.html","text":"napari 0.3.3"},"/release/release_0_3_4.html":{"level":2,"children":[],"href":"/release/release_0_3_4.html","text":"napari 0.3.4"},"/release/release_0_3_5.html":{"level":2,"children":[],"href":"/release/release_0_3_5.html","text":"napari 0.3.5"},"/release/release_0_3_6.html":{"level":2,"children":[],"href":"/release/release_0_3_6.html","text":"napari 0.3.6"},"/release/release_0_3_7.html":{"level":2,"children":[],"href":"/release/release_0_3_7.html","text":"napari 0.3.7"},"/release/release_0_3_8.html":{"level":2,"children":[],"href":"/release/release_0_3_8.html","text":"napari 0.3.8"},"/release/release_0_4_0.html":{"level":2,"children":[],"href":"/release/release_0_4_0.html","text":"napari 0.4.0"},"/release/release_0_4_1.html":{"level":2,"children":[],"href":"/release/release_0_4_1.html","text":"napari 0.4.1"},"/release/release_0_4_2.html":{"level":2,"children":[],"href":"/release/release_0_4_2.html","text":"napari 0.4.2"},"/release/release_0_4_3.html":{"level":2,"children":[],"href":"/release/release_0_4_3.html","text":"napari 0.4.3"},"/release/release_0_4_4.html":{"level":2,"children":[],"href":"/release/release_0_4_4.html","text":"napari 0.4.4"},"/release/release_0_4_5.html":{"level":2,"children":[],"href":"/release/release_0_4_5.html","text":"napari 0.4.5"},"/release/release_0_4_6.html":{"level":2,"children":[],"href":"/release/release_0_4_6.html","text":"napari 0.4.6"},"/release/release_0_4_7.html":{"level":2,"children":[],"href":"/release/release_0_4_7.html","text":"napari 0.4.7"},"/release/release_0_4_8.html":{"level":2,"children":[],"href":"/release/release_0_4_8.html","text":"napari 0.4.8"},"/release/release_0_4_9.html":{"level":2,"children":[],"href":"/release/release_0_4_9.html","text":"napari 0.4.9"},"/release/release_0_4_10.html":{"level":2,"children":[],"href":"/release/release_0_4_10.html","text":"napari 0.4.10"},"/plugins/stable/index.html":{"level":1,"children":["/plugins/stable/for_napari_developers.html","/plugins/stable/for_plugin_developers.html","/plugins/stable/hook_specifications.html","/plugins/stable/find-and-install-plugin.html"],"href":"/plugins/stable/index.html","text":"Plugins"},"/plugins/stable/find-and-install-plugin.html":{"level":2,"children":[],"href":"/plugins/stable/find-and-install-plugin.html","text":"Finding and installing a napari plugin"},"/plugins/stable/hook_specifications.html":{"level":2,"children":[],"href":"/plugins/stable/hook_specifications.html","text":"napari hook specification reference"},"/plugins/stable/for_plugin_developers.html":{"level":2,"children":[],"href":"/plugins/stable/for_plugin_developers.html","text":"creating a napari plugin"},"/plugins/stable/for_napari_developers.html":{"level":2,"children":[],"href":"/plugins/stable/for_napari_developers.html","text":"napari plugin architecture"},"/tutorials/index.html":{"level":1,"children":["/tutorials/fundamentals/index.html","/tutorials/applications/index.html"],"href":"/tutorials/index.html","text":"Tutorials"},"/tutorials/applications/index.html":{"level":2,"children":["/tutorials/applications/annotate_segmentation.html","/tutorials/applications/annotate_points.html","/tutorials/applications/dask.html","/tutorials/applications/napari_imageJ.html","/tutorials/applications/cell_tracking.html"],"href":"/tutorials/applications/index.html","text":"Applications"},"/tutorials/applications/cell_tracking.html":{"level":3,"children":[],"href":"/tutorials/applications/cell_tracking.html","text":"single cell tracking with napari"},"/tutorials/applications/napari_imageJ.html":{"level":3,"children":[],"href":"/tutorials/applications/napari_imageJ.html","text":"Napari + ImageJ How-to-Guide"},"/tutorials/applications/dask.html":{"level":3,"children":[],"href":"/tutorials/applications/dask.html","text":"using dask and napari to process & view large datasets"},"/tutorials/applications/annotate_points.html":{"level":3,"children":[],"href":"/tutorials/applications/annotate_points.html","text":"annotating videos with napari"},"/tutorials/applications/annotate_segmentation.html":{"level":3,"children":[],"href":"/tutorials/applications/annotate_segmentation.html","text":"annotating segmentation with text and bounding boxes"},"/tutorials/fundamentals/index.html":{"level":2,"children":["/tutorials/fundamentals/installation.html","/tutorials/fundamentals/getting_started.html","/tutorials/fundamentals/viewer.html","/tutorials/fundamentals/image.html","/tutorials/fundamentals/labels.html","/tutorials/fundamentals/points.html","/tutorials/fundamentals/shapes.html","/tutorials/fundamentals/surface.html","/tutorials/fundamentals/tracks.html","/tutorials/fundamentals/vectors.html"],"href":"/tutorials/fundamentals/index.html","text":"Fundamentals"},"/tutorials/fundamentals/vectors.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/vectors.html","text":"vectors layer tutorial"},"/tutorials/fundamentals/tracks.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/tracks.html","text":"tracks layer tutorial"},"/tutorials/fundamentals/surface.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/surface.html","text":"surface layer tutorial"},"/tutorials/fundamentals/shapes.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/shapes.html","text":"shapes layer tutorial"},"/tutorials/fundamentals/points.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/points.html","text":"points layer tutorial"},"/tutorials/fundamentals/labels.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/labels.html","text":"labels layer tutorial"},"/tutorials/fundamentals/image.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/image.html","text":"image layer tutorial"},"/tutorials/fundamentals/viewer.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/viewer.html","text":"napari viewer tutorial"},"/tutorials/fundamentals/getting_started.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/getting_started.html","text":"getting started with napari"},"/tutorials/fundamentals/installation.html":{"level":3,"children":[],"href":"/tutorials/fundamentals/installation.html","text":"napari installation tutorial"},"/community/index.html":{"level":1,"children":["/community/mission_and_values.html","/community/team.html","/community/code_of_conduct.html","/community/code_of_conduct_reporting.html","/community/governance.html"],"href":"/community/index.html","text":"Community"},"/community/governance.html":{"level":2,"children":[],"href":"/community/governance.html","text":"Governance Model"},"/community/code_of_conduct_reporting.html":{"level":2,"children":[],"href":"/community/code_of_conduct_reporting.html","text":"Handling Code of Conduct Reports"},"/community/code_of_conduct.html":{"level":2,"children":[],"href":"/community/code_of_conduct.html","text":"Code of Conduct"},"/community/team.html":{"level":2,"children":[],"href":"/community/team.html","text":"About the Project and Team"},"/community/mission_and_values.html":{"level":2,"children":[],"href":"/community/mission_and_values.html","text":"Mission and Values"}},"rootGlobalHeaders":["/community/index.html","/tutorials/index.html","/plugins/stable/index.html","/release/index.html","/api/stable/index.html","/roadmaps/index.html","/guides/stable/index.html","/developers/index.html","https://github.com/napari/napari","https://napari-hub.org"],"pageTitle":"Profiling","pageFrontMatter":{},"appScripts":[{"src":"/_static/documentation_options.js"},{"src":"/_static/jquery.js"},{"src":"/_static/underscore.js"},{"src":"/_static/doctools.js"},{"src":"/_static/togglebutton.js"},{"src":"/_static/clipboard.min.js"},{"src":"/_static/copybutton.js"},{"children":"var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';"},{"src":"https://unpkg.com/thebe@0.5.1/lib/index.js"},{"children":"\n        const thebe_selector = \".thebe\"\n        const thebe_selector_input = \"pre\"\n        const thebe_selector_output = \".output\"\n    "},{"src":"/_static/sphinx-thebe.js"}],"appStyleSheets":[{"href":"/_static/pygments.css","rel":"stylesheet"},{"href":"/_static/togglebutton.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/copybutton.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/mystnb.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/sphinx-thebe.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css","rel":"stylesheet","type":"text/css"},{"href":"/_static/panels-variables.06eb56fa6e07937060861dad626602ad.css","rel":"stylesheet","type":"text/css"}],"pageBodyHtml":"\n        <div id=\"documentation_options\" data-url_root=\"../\"></div>\n        <div class=\"section\" id=\"profiling\">\n\n<p>In contrast to performance tracing, profiling does not provide information\nabout the timing of events, but instead provides combined information about the\ntotal time of execution of each function. It also produces a call graph that\nsimplifies understanding the call relationship between functions.</p>\n<p><img alt=\"Example part of execution graph\" src=\"../_images/execution_graph.png\"></p>\n<p>The basic tool for profile in Python is the built-in module <code class=\"docutils literal notranslate\"><span class=\"pre\">cProfile</span></code>.\nTo profile an entire script, use the call:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python -m cProfile path_to_script.py\n</pre></div>\n</div>\n<p>The output will be a table similar to this one:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>         <span class=\"mi\">2334264</span> <span class=\"n\">function</span> <span class=\"n\">calls</span> <span class=\"p\">(</span><span class=\"mi\">2267576</span> <span class=\"n\">primitive</span> <span class=\"n\">calls</span><span class=\"p\">)</span> <span class=\"ow\">in</span> <span class=\"mf\">2.242</span> <span class=\"n\">seconds</span>\n\n   <span class=\"n\">Ordered</span> <span class=\"n\">by</span><span class=\"p\">:</span> <span class=\"n\">internal</span> <span class=\"n\">time</span>\n\n   <span class=\"n\">ncalls</span>  <span class=\"n\">tottime</span>  <span class=\"n\">percall</span>  <span class=\"n\">cumtime</span>  <span class=\"n\">percall</span> <span class=\"n\">filename</span><span class=\"p\">:</span><span class=\"n\">lineno</span><span class=\"p\">(</span><span class=\"n\">function</span><span class=\"p\">)</span>\n    <span class=\"mi\">21241</span>    <span class=\"mf\">0.252</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.252</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">method</span> <span class=\"s1\">'reduce'</span> <span class=\"n\">of</span> <span class=\"s1\">'numpy.ufunc'</span> <span class=\"n\">objects</span><span class=\"p\">}</span>\n<span class=\"mi\">80547</span><span class=\"o\">/</span><span class=\"mi\">57578</span>    <span class=\"mf\">0.080</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.765</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">built</span><span class=\"o\">-</span><span class=\"ow\">in</span> <span class=\"n\">method</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">core</span><span class=\"o\">.</span><span class=\"n\">_multiarray_umath</span><span class=\"o\">.</span><span class=\"n\">implement_array_function</span><span class=\"p\">}</span>\n     <span class=\"mi\">1048</span>    <span class=\"mf\">0.060</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.060</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">built</span><span class=\"o\">-</span><span class=\"ow\">in</span> <span class=\"n\">method</span> <span class=\"n\">marshal</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">}</span>\n    <span class=\"mi\">62683</span>    <span class=\"mf\">0.052</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.052</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">built</span><span class=\"o\">-</span><span class=\"ow\">in</span> <span class=\"n\">method</span> <span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">}</span>\n  <span class=\"mi\">122</span><span class=\"o\">/</span><span class=\"mi\">117</span>    <span class=\"mf\">0.042</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.047</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">built</span><span class=\"o\">-</span><span class=\"ow\">in</span> <span class=\"n\">method</span> <span class=\"n\">_imp</span><span class=\"o\">.</span><span class=\"n\">create_dynamic</span><span class=\"p\">}</span>\n     <span class=\"mi\">5152</span>    <span class=\"mf\">0.042</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.053</span>    <span class=\"mf\">0.000</span> <span class=\"n\">stride_tricks</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">114</span><span class=\"p\">(</span><span class=\"n\">_broadcast_to</span><span class=\"p\">)</span>\n     <span class=\"mi\">5102</span>    <span class=\"mf\">0.037</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.048</span>    <span class=\"mf\">0.000</span> <span class=\"n\">decomp_qr</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">(</span><span class=\"n\">safecall</span><span class=\"p\">)</span>\n     <span class=\"mi\">2551</span>    <span class=\"mf\">0.031</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.386</span>    <span class=\"mf\">0.000</span> <span class=\"n\">transform_utils</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">153</span><span class=\"p\">(</span><span class=\"n\">decompose_linear_matrix</span><span class=\"p\">)</span>\n     <span class=\"mi\">2651</span>    <span class=\"mf\">0.029</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.067</span>    <span class=\"mf\">0.000</span> <span class=\"n\">transforms</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">342</span><span class=\"p\">(</span><span class=\"fm\">__call__</span><span class=\"p\">)</span>\n<span class=\"mi\">2172</span><span class=\"o\">/</span><span class=\"mi\">2108</span>    <span class=\"mf\">0.029</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.087</span>    <span class=\"mf\">0.000</span> <span class=\"p\">{</span><span class=\"n\">built</span><span class=\"o\">-</span><span class=\"ow\">in</span> <span class=\"n\">method</span> <span class=\"n\">builtins</span><span class=\"o\">.</span><span class=\"n\">__build_class__</span><span class=\"p\">}</span>\n    <span class=\"mi\">18283</span>    <span class=\"mf\">0.027</span>    <span class=\"mf\">0.000</span>    <span class=\"mf\">0.278</span>    <span class=\"mf\">0.000</span> <span class=\"n\">fromnumeric</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">70</span><span class=\"p\">(</span><span class=\"n\">_wrapreduction</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n</pre></div>\n</div>\n<p>The format of this table is documented in the Python docs\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/profile.html#instant-user-s-manual\">here</a>.\nBecause the output for complex programs such as napari can be very long,\nwe suggest piping output to <code class=\"docutils literal notranslate\"><span class=\"pre\">less</span></code>, or saving it to a file,\nwhich can be investigated later. To save the output to file use the <code class=\"docutils literal notranslate\"><span class=\"pre\">-o</span></code> option:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python -m cProfile -o result.pstat path_to_script.py\n</pre></div>\n</div>\n<p>Once the file is saved, you can investigate using free tools. Some options include:</p>\n<ol>\n<li><p>The Stat object.</p>\n<p>You can parse the profile output using the <code class=\"docutils literal notranslate\"><span class=\"pre\">Stats</span></code> object from the <code class=\"docutils literal notranslate\"><span class=\"pre\">pstats</span></code> built-in library. For example:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">pstats</span> <span class=\"kn\">import</span> <span class=\"n\">Stats</span>\n<span class=\"n\">stat</span> <span class=\"o\">=</span> <span class=\"n\">Stats</span><span class=\"p\">(</span><span class=\"s2\">\"path/to/result.pstat\"</span><span class=\"p\">)</span>\n<span class=\"n\">stat</span><span class=\"o\">.</span><span class=\"n\">sort_stats</span><span class=\"p\">(</span><span class=\"s2\">\"tottime\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">print_stats</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>You can find more documentation about the Stats object in the Python documentation <a class=\"reference external\" href=\"https://docs.python.org/3/library/profile.html#the-stats-class\">here</a>.</p>\n</li>\n<li><p>Snakeviz.</p>\n<p>Snakeviz is a third party library designed to visualize profiling output interactively.\nYou can install it with pip like any other Python library using <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span> <span class=\"pre\">install</span> <span class=\"pre\">snakeviz</span></code>.\nThis will provide the <code class=\"docutils literal notranslate\"><span class=\"pre\">snakeviz</span></code> command, which you can call to create an in-browser\nvisualization of your profiling data. Use the command:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>snakeviz path/to/result.pstat   \n</pre></div>\n</div>\n<p>This should cause a new page to open in your browser with your profiling information.\nYou can read more about how to interpret this visualization on the\n<a class=\"reference external\" href=\"https://jiffyclub.github.io/snakeviz/\">snakeviz homepage</a>.</p>\n</li>\n<li><p>gprof2dot</p>\n<p>You can visualize the call graph with <a class=\"reference external\" href=\"https://graphviz.org/\"><code class=\"docutils literal notranslate\"><span class=\"pre\">graphviz</span></code></a>,\na third party graph visualization library.\nYou can install graphviz with system package managers:</p>\n<ul class=\"simple\">\n<li><p>Ubuntu: <code class=\"docutils literal notranslate\"><span class=\"pre\">sudo</span> <span class=\"pre\">apt</span> <span class=\"pre\">install</span> <span class=\"pre\">graphviz</span></code></p></li>\n<li><p>MacOS with brew: <code class=\"docutils literal notranslate\"><span class=\"pre\">brew</span> <span class=\"pre\">install</span> <span class=\"pre\">graphviz</span></code></p></li>\n<li><p>Windows with choco <code class=\"docutils literal notranslate\"><span class=\"pre\">choco</span> <span class=\"pre\">install</span> <span class=\"pre\">graphviz</span></code></p></li>\n</ul>\n<p>You can then use <code class=\"docutils literal notranslate\"><span class=\"pre\">gprof2dot</span></code>, a Python library, to convert the <code class=\"docutils literal notranslate\"><span class=\"pre\">.pstat</span></code>\nstatistics to a <code class=\"docutils literal notranslate\"><span class=\"pre\">.dot</span></code> graph file and use graphviz:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>$ python -m gprof2dot -f pstats  -n <span class=\"m\">5</span>  result.pstat -o result.dot\n$ dot -Tpng -o result.png result.dot\n</pre></div>\n</div>\n<p>If your shell supports piping, this can all be combined into one command:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>$ python -m gprof2dot -f pstats  -n <span class=\"m\">5</span>  result.pstat -o <span class=\"p\">|</span> dot -Tpng -o result.png\n</pre></div>\n</div>\n</li>\n<li><p>Some IDEs have built in profiling visualization tools. For example, PyCharm Professional, which is free for academics and open source maintainers, allows viewing <code class=\"docutils literal notranslate\"><span class=\"pre\">.pstat</span></code> files using Tools &gt; Open CProfile snapshot.</p></li>\n</ol>\n<p>cProfile also allows profiling only specific parts of the code.\nYou can restrict profiling to particular code sections using\n<code class=\"docutils literal notranslate\"><span class=\"pre\">cProfile.Profile()</span></code> as a context manager:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cProfile</span>\n\n<span class=\"k\">with</span> <span class=\"n\">cProfile</span><span class=\"o\">.</span><span class=\"n\">Profile</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">pr</span><span class=\"p\">:</span>\n    <span class=\"n\">code_for_profile</span><span class=\"p\">()</span>\n<span class=\"n\">pr</span><span class=\"o\">.</span><span class=\"n\">dump_stats</span><span class=\"p\">(</span><span class=\"s2\">\"result.pstat\"</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The resulting profile can then be visualized using the above methods.</p>\n<p>In some situations, you might want to profile code that needs\nsome preliminary steps to be performed in the viewer, which you\ndon’t want to measure. In this situation, you can create a\nbutton to trigger profiling:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">testing_fun</span><span class=\"p\">():</span>\n    <span class=\"k\">with</span> <span class=\"n\">cProfile</span><span class=\"o\">.</span><span class=\"n\">Profile</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">pr</span><span class=\"p\">:</span>\n        <span class=\"n\">code_for_profile</span><span class=\"p\">()</span>\n    <span class=\"n\">pr</span><span class=\"o\">.</span><span class=\"n\">dump_stats</span><span class=\"p\">(</span><span class=\"s2\">\"camera_layers.pstat\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">testing_btn</span> <span class=\"o\">=</span> <span class=\"n\">QPushButton</span><span class=\"p\">(</span><span class=\"s2\">\"Profile\"</span><span class=\"p\">)</span>\n<span class=\"n\">testing_btn</span><span class=\"o\">.</span><span class=\"n\">clicked</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">testing_fun</span><span class=\"p\">)</span>\n<span class=\"n\">viewer</span><span class=\"o\">.</span><span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">add_dock_widget</span><span class=\"p\">(</span><span class=\"n\">testing_btn</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In addition to cProfile, third-party profilers are available in Python:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">yappi</span></code> with support for multithreading</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">vmprof</span></code></p></li>\n</ul>\n<p>Both can be installed with <code class=\"docutils literal notranslate\"><span class=\"pre\">pip</span></code>.</p>\n</div>\n\n    <script type=\"text/x-thebe-config\">\n    {\n        requestKernel: true,\n        binderOptions: {\n            repo: \"binder-examples/jupyter-stacks-datascience\",\n            ref: \"master\",\n        },\n        codeMirrorConfig: {\n            theme: \"abcdef\",\n            mode: \"python\"\n        },\n        kernelOptions: {\n            kernelName: \"python3\",\n            path: \"./developers\"\n        },\n        predefinedOutput: true\n    }\n    </script>\n    <script>kernelName = 'python3'</script>\n      ","pageHeaders":[]}},"__N_SSG":true}